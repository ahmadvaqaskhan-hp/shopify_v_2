{% comment %}
------------------------------------------------------------------------------
  Snippet: Gamer bio (gamer-bio)
  - Custom content tool section duplicate.
  - This file is automatically generated, do not edit.
------------------------------------------------------------------------------
{% endcomment %}
{{ 'component.gamer-bio.css' | asset_url | stylesheet_tag }}


<section
  aria-labelledby="section-title-{{ section.id }}"
  data-component-handle="gamer-bio"
  data-component-type="load"
  data-section-schema
>
  <gamer-bio
    v-if="getComponentVisible('gamer-bio')"
    v-cloak
    :liquid="{
      sectionId: {{ section.id | json | escape }}
    }"
    :settings= "{{ section.settings | json | escape }}"
  >
    <template #image>
      {% render 'responsive-image' with
        image: section.settings.gamer_photo,
        wrapper_class: 'gamer-bio__image',
        max_height: 392,
        max_width: 520
      %}
    </template>
  </gamer-bio>

  {% comment %}
  -----------------------------------------------------------------------------
    Loading state.
  -----------------------------------------------------------------------------
  {% endcomment %}
  <div v-if="!getComponentActive('gamer-bio')">
    <div class="gamer-bio is-loading critical-component-clear liquid">
      <div class="container gamer-bio__container">
        <div class="row gamer-bio__heading">

          {% unless section.settings.gamer_photo == blank %}
            <div class="col xs12 m6">
              {% render 'responsive-image' with
                image: section.settings.gamer_photo,
                wrapper_class: 'gamer-bio__image',
                max_height: 392,
                max_width: 520
              %}
            </div>
          {% endunless %}

          <div class="col xs12 m6">
            {% unless section.settings.gamer_name == blank %}
              <div class="h3 gamer-bio__name">
                {{ section.settings.gamer_name }}
              </div>
            {% endunless %}

            <div class="gamer-bio__socials {{ is_having_socials | strip }}">
              {% for social in socials %}
                {% assign social_setting = 'social_' | append: social | append: '_link' %}

                {% unless settings[social_setting] == blank %}
                  <a class="gamer-bio__icon" href="{{ settings[social_setting] }}" aria-label="social-icon">
                    {% render 'icon-social', icon: social %}
                  </a>
                {% endunless %}
              {% endfor %}
            </div>

            <div class="gamer-bio__fields">
              <div class="gamer-bio__field">
                <b>{{ section.settings.field_1_title }}</b> {{ section.settings.field_1_desc }}
              </div>
              <div class="gamer-bio__field">
                <b>{{ section.settings.field_2_title }}</b> {{ section.settings.field_2_desc }}
              </div>
              <div class="gamer-bio__field">
                <b>{{ section.settings.field_3_title }}</b> {{ section.settings.field_3_desc }}
              </div>
              <div class="gamer-bio__field">
                <b>{{ section.settings.field_4_title }}</b> {{ section.settings.field_4_desc }}
              </div>
            </div>
          </div>
        </div>

        {% unless
          section.settings.first_column_text == blank and
          section.settings.second_column_text == blank
        %}
          <div class="gamer-bio__description h6 mobile is-collapsed">
            {% if
              section.settings.truncate and
              full_description.size >= section.settings.truncate_min
            %}
              <div class="gamer-bio__short">
                {{ full_description | truncate: section.settings.truncate_at, '...' }}
              </div>

              <div class="gamer-bio__full">
                {{ full_description }}
              </div>

              <button class="gamer-bio__expand">
                {{ 'general.gamer_bio.read_more' | t }}
              </button>
            {% else %}
              {{ full_description }}
            {% endif %}
          </div>

          <div class="row gamer-bio__description {{ is_one_column | strip }} desktop">
            {% unless section.settings.first_column_text == blank %}
              <div class="col xs12 {{ column_width_class | strip }} body-1">
                {{ section.settings.first_column_text }}
              </div>
            {% endunless %}

            {% unless section.settings.second_column_text == blank %}
              <div class="col xs12 {{ column_width_class | strip }} body-1">
                {{ section.settings.second_column_text }}
              </div>
            {% endunless %}
          </div>
        {% endunless %}

        {% unless section.settings.download_header == blank %}
          <div class="row col xs12 m6 h5 gamer-bio__wallpaper">
            {{ section.settings.download_header }}
          </div>
        {% endunless %}

        <div class="row">
          <div class="col xs6 m3">

            {% unless section.settings.download_desktop_header == blank %}
              <div class="label gamer-bio__label">
                {{ section.settings.download_desktop_header }}
              </div>
            {% endunless %}

            {% unless section.settings.download_desktop == blank %}
              <div class="gamer-bio__links">
                {% assign desktop_links = section.settings.download_desktop | replace: '<p>', '' | split: '</p>' %}

                {% for desktop_link in desktop_links %}
                  {% if desktop_link contains 'href="' %}
                    {{ desktop_link | replace: 'href="', 'class="text-link" href="' | replace: '</a>', icon_direction | append: '</a>' }}
                  {% endif %}
                {% endfor %}
              </div>
            {% endunless %}

          </div>

          <div class="col xs6 m3">
            {% unless section.settings.download_mobile_header == blank %}
              <div class="label gamer-bio__label">
                {{ section.settings.download_mobile_header }}
              </div>
            {% endunless %}

            {% unless section.settings.download_mobile == blank %}
              <div class="gamer-bio__links">
                {% assign mobile_links = section.settings.download_mobile | replace: '<p>', '' | split: '</p>'%}

                {% for mobile_link in mobile_links %}
                  {% if mobile_link contains 'href="' %}
                    {{ mobile_link | replace: 'href="', 'class="text-link" href="' | replace: '</a>', icon_direction | append: '</a>'}}
                  {% endif %}
                {% endfor %}
              </div>
            {% endunless %}
          </div>
        </div>
      </div>
    </div>
  </div>
</section>


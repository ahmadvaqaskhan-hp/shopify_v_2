{% comment %}
------------------------------------------------------------------------------
  Snippet: Title with description (title-with-description)
  - Custom content tool section duplicate.
  - This file is automatically generated, do not edit.
------------------------------------------------------------------------------
{% endcomment %}
{{ 'component.title-with-description.css' | asset_url | stylesheet_tag }}


<section
  aria-labelledby="section-title-{{ section.id }}"
  class="title-with-description"
  data-component-handle="title-with-description"
  data-component-type="scroll"
  data-section-schema
>
  <title-with-description
    v-if="getComponentVisible('title-with-description')"
    v-cloak
    :section="{
      settings: {
        alignment: {{ section.settings.alignment | json | escape }},
        description_col_1: {{ section.settings.description_col_1 | json | escape }},
        description_col_2: {{ section.settings.description_col_2 | json | escape }},
        truncate: {{ section.settings.truncate | json | escape }},
        cta_text_1: {{ section.settings.cta_text_1 | json | escape }},
        cta_style_1: {{ section.settings.cta_style_1 | json | escape }},
        cta_link_1: {{ section.settings.cta_link_1 | json | escape }},
        cta_text_2: {{ section.settings.cta_text_2 | json | escape }},
        cta_style_2: {{ section.settings.cta_style_2 | json | escape }},
        cta_link_2: {{ section.settings.cta_link_2 | json | escape }},
        footnote: {{ section.settings.footnote | json | escape }},
        title: {{ section.settings.title | json | escape }},
        truncate_min: {{ section.settings.truncate_min }},
      },
      trunc_desc: {{ full_description | truncate: section.settings.truncate_at, '...' | json | escape }},
      full_desc: {{ full_description | json | escape }},
      full_desc_size: {{ full_description.size }},
    }"
    :modifiers="{{ modifiers | json | escape }}"
  ></title-with-description>

  {% comment %}
  -----------------------------------------------------------------------------
    Loading state.
  -----------------------------------------------------------------------------
  {% endcomment %}
  <div v-if="!getComponentActive('title-with-description')">
    <div class="container">
      <div class="title-with-description__wrapper">
        <div class="title-with-description__content {{ section.settings.alignment }}">
          {% if section.settings.title != blank %}
            <h3 class="title-with-description__title h3">
              {{ section.settings.title }}
            </h3>
          {% endif %}

          {% unless
            section.settings.description_col_1 == blank and
            section.settings.description_col_2 == blank
          %}

            <div
              class="title-with-description__description h6 mobile is-collapsed"
            >
              {% if
                section.settings.truncate and
                full_description.size >= section.settings.truncate_min
              %}

                <div class="title-with-description__short">
                  {{ full_description | truncate: section.settings.truncate_at, '...' }}
                </div>

                <div class="title-with-description__full">
                  {{ full_description }}
                </div>

                <button
                  class="title-with-description__expand"
                >
                  {{ 'layout.general.read_more' | t }}
                </button>
              {% else %}
                {{ full_description }}
              {% endif %}
            </div>

            <div class="title-with-description__description h6 desktop {{ modifiers }}">
              {% unless section.settings.description_col_1 == blank %}
                <div class="title-with-description__col">
                  {{ section.settings.description_col_1 }}
                </div>
              {% endunless %}

              {% unless section.settings.description_col_2 == blank %}
                <div class="title-with-description__col">
                  {{ section.settings.description_col_2 }}
                </div>
              {% endunless %}
            </div>
          {% endunless %}

          <div class="title-with-description__links-wrapper">
            {% if section.settings.cta_text_1 != empty %}
              <div class="title-with-description__link">
                <a
                  class="{{ section.settings.cta_style_1 }}"
                  href="{{ section.settings.cta_link_1 }}"
                >
                  <span>{{ section.settings.cta_text_1 }}</span>
                  {% render 'icon-direction', icon: 'arrow-up-right' %}
                </a>
              </div>
            {% endif %}

            {% if section.settings.cta_text_2 != empty %}
              <div class="title-with-description__link">
                <a
                  class="{{ section.settings.cta_style_2 }}"
                  href="{{ section.settings.cta_link_2 }}"
                >
                  <span>{{ section.settings.cta_text_2 }}</span>
                  {% render 'icon-direction', icon: 'arrow-up-right' %}
                </a>
              </div>
            {% endif %}
          </div>

          <div class="title-with-description__note">
            {{ section.settings.footnote }}
          </div>
        </div>
      </div>
    </div>
  </div>

</section>


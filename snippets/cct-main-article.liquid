{% comment %}
------------------------------------------------------------------------------
  Snippet: Main article (main-article)
  - Custom content tool section duplicate.
  - This file is automatically generated, do not edit.
  - Static section.
------------------------------------------------------------------------------
{% endcomment %}
{{ 'component.main-article.css' | asset_url | stylesheet_tag }}

{%- liquid
  assign back_to_blog_string = 'article.back_to_blog' | t: title: blog.title
  assign related_article_tag_size = 0

  capture arrow_left_icon
    render 'icon-direction' with icon: 'arrow', direction: 'left'
  endcapture
-%}


<article
  class="component-section template-article__article"
  aria-labelledby="section-title-{{ section.id }}"
  data-component-handle="main-article"
  data-section-schema
>
  <div
    class="
      main-article
      grid
      no-row-gap
      critical-component-clear
      liquid
    "
  >

  {% if article.image %}
    <div class="template-article__hero">
      <div class="template-article__hero-container">
        <div class="row">
          <div class="col xs12 m10 offset-m1 template-article__hero-col">
            <div
              class="hero template-article__hero-image lazyload"
              data-bgset="{% render 'responsive-bg-image', image: article.image %}"
            >
            </div>

            <noscript>
              {% assign image_size = article.image.width | append: 'x' %}

              <div
                class="hero template-article__hero"
                style="background-image: {{ article.image | img_url: image_size }}"
              >
              </div>
            </noscript>
          </div>
        </div>
      </div>
    </div>
  {% endif %}

  <div class="container">
    <div class="template-article__container">
      <div class="row">
        <div class="col xs12 m8 offset-m2">
          <header class="template-article__header" role="banner">
            <h1 class="template-article__title">{{ article.title }}</h1>

            {% capture date %}
              {{ article.published_at | time_tag: format: 'month_day_year' }}
            {% endcapture %}

            <div class="template-article__meta">
              <div class="template-article__meta-container">
                {% if article.tags.size > 0 %}
                  <ul class="template-article__categories">
                    {% for tag in article.tags %}
                      {% if tag contains 'related-articles' %}
                        {% assign related_article_tag_size = related_article_tag_size | plus: 1 %}

                      {% else %}
                        <li class="template-article__category-item">
                          {{ tag | link_to_tag: tag }}
                        </li>
                      {% endif %}
                    {% endfor %}
                  </ul>
                {% endif %}
              </div>
            </div>

            {% if settings.social_sharing_blog %}
              <div class="template-article__social-sharing">
                {% render 'social-sharing' with
                  share_image: article.image,
                  share_permalink: article.url,
                  share_title: article.title,
                %}
              </div>
            {% endif %}
          </header>
        </div>
      </div>

      <div class="row">
        <div class="col xs12 m8 offset-m2">
          <div class="template-article__body">
            {{ article.content }}
          </div>
        </div>
      </div>
    </div>
  </div>
</article>

{% unless related_article_tag_size <= 0 %}
  {% render 'related-articles' %}
{% endunless %}



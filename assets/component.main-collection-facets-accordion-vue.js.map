{"version":3,"file":"component.main-collection-facets-accordion-vue.js?v=1733162424563","mappings":"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","sources":["webpack:///../../../../../src/components/async/main-collection/facets-accordion.vue","webpack:///../../../../../src/components/async/main-collection/facets-accordion.vue?5801","webpack:///../../../../../src/components/async/main-collection/main-collection-filter-list.vue","webpack:///../../../../../src/components/async/main-collection/main-collection-filter-list.vue?93bb"],"sourcesContent":["<template>\n  <div class=\"accordion\">\n    <div\n      v-for=\"(facet, index) in facets\"\n      :key=\"facet.name\"\n    >\n      <ais-refinement-list\n        v-if=\"facet.title\"\n        :attribute=\"facet.name\"\n      >\n        <template #default=\"{ items, refine }\">\n          <div\n            v-if=\"items.length > 0\"\n            :ref=\"`${ section }-${ index }`\"\n            class=\"accordion__item\"\n            :class=\"{'is-active': activeItems.includes(`${ section }-${ index }`)}\"\n          >\n            <!-- <h4>{{ facet.title }}</h4>\n            {{ items }} -->\n            <div\n              :class=\"`accordion__title ${facet.title}`\"\n              :aria-controls=\"`content-${ index }`\"\n              :aria-expanded=\"activeItems.includes(`${ section }-${ index }`)\"\n              @click.prevent=\"() => toggleItem(`${ section }-${ index }`)\"\n            >\n              <span\n                :aria-controls=\"`content-${ index }`\"\n                aria-expanded=\"false\"\n                v-text=\"facet.title\"\n              />\n              <button\n                :id=\"`Accordion${ index }`\"\n                class=\"accordion-footer__control filter_control\"\n                :aria-controls=\"`content-${ index }`\"\n                aria-expanded=\"false\"\n                :aria-label=\"facet.name\"\n              >\n                <icon-minus />\n                <icon-plus />\n              </button>\n            </div>\n\n            <div\n              v-if=\"activeItems.includes(`${ section }-${ index }`) || expandAll\"\n              :id=\"`content-${ index }`\"\n              class=\"accordion__content\"\n              role=\"region\"\n              :aria-labelledby=\"`Accordion${ index }`\"\n            >\n              <filter-list\n                class=\"filter\"\n                :facet=\"facet\"\n                :items=\"items\"\n                :refine=\"refine\"\n              />\n            </div>\n          </div>\n        </template>\n      </ais-refinement-list>\n    </div>\n    <!-- <div\n      v-for=\"(facet, index) in facets\"\n      :key=\"`facet${index}`\"\n    >\n      <ais-refinement-list\n        v-if=\"facet.title\"\n        :attribute=\"facet.name\"\n      >\n        <template #default=\"{ items, refine }\">\n          <div v-if=\"items.length > 0\">\n            <h4>{{ facet.title }}</h4>\n            {{ items }}\n          </div>\n        </template>\n      </ais-refinement-list>\n    </div> -->\n  </div>\n</template>\n\n<script>\nimport { AisRefinementList } from 'vue-instantsearch/vue3/es'\nimport FilterList from './main-collection-filter-list'\nimport IconMinus from '~icons/misc/minus.svg'\nimport IconPlus from '~icons/misc/plus.svg'\nimport breakpoints from '~/config/breakpoints'\n\n\nexport default {\n  name: 'FacetsAccordion',\n  components: {\n    AisRefinementList,\n    FilterList,\n    IconMinus,\n    IconPlus,\n  },\n  props: {\n    facets: {\n      type: Array,\n      default: () => ([]),\n    },\n    expandAll: {\n      type: Boolean,\n      default: false,\n    },\n    expandLimit: {\n      type: [Number, Boolean],\n      default: false,\n    },\n    scrollTo: {\n      type: Boolean,\n      default: false,\n    },\n    section: {\n      type: String,\n      default: '',\n    },\n  },\n  data() {\n    return {\n      activeItems: [],\n    }\n  },\n  mounted() {\n    if (this.expandAll || this.expandLimit) {\n      this.addActiveItems()\n    }\n  },\n  methods: {\n\n    /**\n     * Toggle targeted accordion item.\n     * @param {HTMLElement} control - The clicked accordion control.\n     */\n    toggleItem(control) {\n      const item = this.$refs[control]\n      if (this.isItemExpanded(control)) {\n        const { activeItems } = this\n        const itemIndex = activeItems.indexOf(control)\n        activeItems.splice(itemIndex, 1)\n\n      } else {\n        this.activeItems.push(control)\n      }\n\n      if (this.scrollTo) {\n        this.setWindowScroll(item[0])\n      }\n    },\n\n    /**\n     * Check if item is active.\n     * @param {HTMLElement} control - The accordion item.\n     * @returns {Boolean}\n     */\n    isItemExpanded(control) {\n      return this.activeItems.includes(control)\n    },\n\n    addActiveItems() {\n      this.facets.map((el, index) => {\n        if (this.expandAll || (this.expandLimit && index < this.expandLimit)) {\n          this.activeItems.push(`${this.section}-${index}`)\n        }\n      })\n    },\n\n   /**\n   * Set window scroll\n   * @param {Object} target - The returned element that was clicked\n   */\n    setWindowScroll(target) {\n      if (!window.matchMedia(`(min-width: ${breakpoints.l})`).matches) {\n          target.scrollIntoView({\n            behavior: 'smooth',\n          })\n      }\n    },\n  },\n}\n</script>","import { render } from \"./facets-accordion.vue?vue&type=template&id=72f9f30d\"\nimport script from \"./facets-accordion.vue?vue&type=script&lang=js\"\nexport * from \"./facets-accordion.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/buddy/hyperx-canvas-1/node_modules/@we-make-websites/basis/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <ul\n    class=\"filter__list\"\n    :class=\"{'filter__list--swatches': facet.name === 'named_tags.color'}\"\n  >\n    <li\n      v-for=\"list in items\"\n      :key=\"list.title\"\n      class=\"filter__item checkbox__container\"\n      :data-value=\"encodedValue\"\n      @click.prevent=\"refine(list.value)\"\n    >\n      <input\n        :id=\"encodedValue\"\n        type=\"checkbox\"\n        class=\"checkbox__input\"\n        :aria-checked=\"list.isRefined\"\n        tabindex=\"0\"\n        :checked=\"list.isRefined\"\n      >\n\n      <template v-if=\"facet.name === 'named_tags.color'\">\n        <label\n          class=\"checkbox__swatch\"\n          :for=\"encodedValue\"\n        >\n          <img\n            class=\"product-card-swatches__image\"\n            :alt=\"list.label\"\n            :title=\"list.label\"\n            :src=\"sanitizedSwatchUrl(list.label)\"\n          >\n        </label>\n      </template>\n      <template v-else>\n        <label\n          class=\"checkbox__label\"\n          :for=\"encodedValue\"\n        >\n          {{ formatLabel(list.label) }}\n          <span class=\"filter__count\">&nbsp;({{ list.count }})</span>\n        </label>\n      </template>\n    </li>\n  </ul>\n</template>\n<script>\n\n/**\n * Vue: Filter list (filter-list)\n * -----------------------------------------------------------------------------\n * Collection Algolia filter\n *\n */\nimport { handleize } from '~/helpers/general'\n\nexport default {\n  name: 'FilterList',\n\n  props: {\n    facet: {\n      type: [Array, Object],\n      default: () => ({}),\n    },\n    items: {\n      type: Array,\n      default: () => [],\n    },\n    refine: {\n      type: Function,\n      default: () => ({}),\n    },\n  },\n\n  data() {\n    return {\n\n    }\n  },\n\n  computed: {\n    encodedValue() {\n      return encodeURIComponent(this.facet.title)\n    },\n  },\n\n  methods: {\n\n    /**\n     * Format label price.\n     * @param {String} label - Facet label.\n     * @return {String}\n     */\n    formatPriceLabel(label) {\n      if (label.length === 3) {\n        return this.$formatMoney(`${label}0`)\n      }\n\n      return this.$formatMoney(label)\n    },\n\n    /**\n     * Format price range label.\n     * @param {String} label - Facet label.\n     * @return {String}\n     */\n    formatPriceRange(label) {\n      return label.split(':').map(item => this.formatPriceLabel(`${item}.00`)).join(' - ')\n    },\n\n    /**\n     * Format facet price and price range\n     * @param {String} label - Facet label.\n     * @return {String}\n     */\n    formatLabel(label) {\n      if (this.facet.name === 'price') {\n        return this.formatPriceLabel(label)\n      }\n\n      if (this.facet.name === 'price_range') {\n        return this.formatPriceRange(label)\n      }\n\n      return label\n    },\n\n    /**\n     * Sanitized swatch url\n     * @param {String} color - Swatch color.\n     * @return {String}\n     */\n    sanitizedSwatchUrl(color) {\n      return cnvs.urls.files\n          .replace('placeholder', `swatch_${handleize(color)}_20x20.png`)\n    },\n  },\n}\n</script>\n\n","import { render } from \"./main-collection-filter-list.vue?vue&type=template&id=cf17eeae\"\nimport script from \"./main-collection-filter-list.vue?vue&type=script&lang=js\"\nexport * from \"./main-collection-filter-list.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/buddy/hyperx-canvas-1/node_modules/@we-make-websites/basis/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","name","components","AisRefinementList","FilterList","IconMinus","IconPlus","props","facets","type","Array","default","expandAll","Boolean","expandLimit","Number","scrollTo","section","String","data","activeItems","mounted","this","addActiveItems","methods","toggleItem","control","item","$refs","isItemExpanded","itemIndex","indexOf","splice","push","setWindowScroll","includes","map","el","index","target","window","matchMedia","breakpoints","matches","scrollIntoView","behavior","_createElementBlock","_Fragment","_renderList","$props","facet","key","title","_createBlock","_component_ais_refinement_list","attribute","items","refine","length","ref","$data","_createElementVNode","onClick","$options","_toDisplayString","id","_createVNode","_component_icon_minus","_component_icon_plus","role","_component_filter_list","Object","Function","computed","encodedValue","encodeURIComponent","formatPriceLabel","label","$formatMoney","formatPriceRange","split","join","formatLabel","sanitizedSwatchUrl","color","cnvs","urls","files","replace","handleize","list","value","isRefined","tabindex","checked","for","alt","src","count"],"sourceRoot":""}
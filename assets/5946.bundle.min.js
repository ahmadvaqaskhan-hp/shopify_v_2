(self.webpackChunk=self.webpackChunk||[]).push([[5946,4619],{8509:function(e,t,i){"use strict";i.d(t,{F$:function(){return o},gJ:function(){return l},sg:function(){return s}});var n=i(6611);function a(){window.dataLayer||(window.dataLayer=[])}function s(e,t){if(!e)return;const{pageNameL5:i}=cnvs.strings.dataLayer,{type:n}=cnvs.page;a(),window.dataLayer.push({event:"e_addToCart",ecommerce:{currencyCode:window.cnvs.store.currency,add:{...t,detail:{actionField:{list:i[n]}},products:[r(e,1)]}}})}function l(e,t){e&&(a(),window.dataLayer.push({event:"e_removeFromCart",ecommerce:{currencyCode:window.cnvs.store.currency,remove:{products:[r(e,t)]}}}))}function r(e,t){const i=e.type||e.product_type;return{name:e.name||e.product_title,id:e.sku,price:(e.price.amount||e.price)/100,brand:"HyperX",category:`MS/accessories/${i.toLowerCase().replaceAll(" ","-")}`,variant:e.title||e.variant_title,quantity:t}}function o(e){e&&(a(),window.dataLayer.push({event:"e_emailSubscribe",userID:(0,n.d)(e)}))}},7504:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return u}});var n=i(1797);const a={class:"cart-family-bundle__undo"},s=["textContent"];var l=i(8296),r=i(719),o={name:"CartFamilyBundleSlide",props:{lineItem:{type:Object,default:()=>({})}},data:()=>({}),methods:{...(0,l.nv)({addItem:"cart/addItem"}),async handleUndoCart(){if(clearTimeout(this.timeout),this.error="",this.state="adding",cnvs.EventBus.emit("family-bundle-updating"),cnvs.storybook)return this.timeout=setTimeout((()=>{this.state="added"}),r.Z.slow),void(this.timeout=setTimeout((()=>{this.state="ready"}),r.Z.message));const{_familyBundle:e,_lowestPrice:t,_recommendedPrice:i,_undoId:n}=this.lineItem.properties._undoProperties,a=[{id:n,properties:{_familyBundle:e,_lowestPrice:t,_recommendedPrice:i},quantity:this.lineItem.quantity}];try{await this.addItem(a),this.state="added",cnvs.EventBus.emit("family-bundle-remove",{key:this.lineItem.key}),this.timeout=setTimeout((()=>{this.state="ready"}),r.Z.message)}catch(e){if(this.state="error",e.length)return void(this.error=e);reportError("Failed to add product to cart",e)}}}},u=(0,i(4407).Z)(o,[["render",function(e,t,i,l,r,o){return(0,n.wg)(),(0,n.iD)("div",a,[(0,n._)("button",{class:"cart-family-bundle__undo-button text-link",tabindex:"0",onClick:t[0]||(t[0]=(0,n.iM)((e=>o.handleUndoCart()),["prevent"]))},[(0,n._)("span",{textContent:(0,n.zw)("Undo Bundle Upgrade")},null,8,s)])])}]])},5946:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return P}});var n=i(1797);const a={class:"line-item__wrapper"},s=["href"],l=["href","textContent"],r=["textContent"],o=["textContent"],u=["textContent"],c={key:1,class:"cart-bundle__drawer-item"},d=["textContent"],m=(0,n._)("br",null,null,-1),y=["textContent"],p=["aria-label"];var v=i(8296),h=i(9011),b=i(7504),f=i(1130),_=i(8449),k=i(9122),g=i(3995);const C={class:"icon icon__trash",viewBox:"0 0 12 12",xmlns:"http://www.w3.org/2000/svg"},q=[(0,n._)("path",{d:"M9 11H3V4H2V10.85C2 11.4 2.45 12 3 12H9C9.55 12 10 11.4 10 10.85V4H9V11ZM7.5 2V1H4.5V2H1V3H11V2H7.5ZM4.5 5V10H5.5V5H4.5ZM6.5 5V10H7.5V5H6.5Z"},null,-1)];var w=i(4407);const $={};var S=(0,w.Z)($,[["render",function(e,t){return(0,n.wg)(),(0,n.iD)("svg",C,q)}]]),x=i(719),D=i(8509),B=i(6894),N=i.n(B),Q=i(9579),I={name:"LineItem",components:{CartFamilyBundle:h.default,CartFamilyBundleUndo:b.default,IconRemove:S,ProductPrices:f.default,QuantitySelector:_.default,ProductPriceMessage:g.default,ResponsiveImage:k.default},props:{blockClass:{type:String,default:""},bundles:{type:Array,default:()=>[]},bundleDiscount:{type:[Boolean,Number],default:!1},index:{type:Number,default:0},item:{type:[Boolean,Object],default:!1,required:!0}},data(){var e;return{familyBundle:[],quantity:1,state:"loading",bundleMessage:(null===(e=window.cnvs.productBundles)||void 0===e?void 0:e.cartLineMessage)||!1}},computed:{...(0,v.rn)({cartStatus:e=>e.cart.status}),animationDelay(){return this.index*x.V.quick+"s"},bundleQuantity(){return`${this.$string("cart.label.bundle_quantity")}: ${this.quantity}`},compareAtPrice(){if(this.item)return this.bundleDiscount?this.item.original_price:this.item.compare_at_line_price},hasPricingMessage(){var e;return!!this.$variable("settings.pricingDirective.enable")&&(this.compareAtPrice>this.item.original_price||(null===(e=this.properties)||void 0===e?void 0:e._lowestPrice))},familyBundleName(){var e;return null!==(e=this.item.properties)&&void 0!==e&&e._familyBundle?this.item.properties._familyBundle:""}},watch:{"cartStatus.items":function(){this.cartStatus.items.includes(this.item.key)?this.state="updating":this.state="ready"},"item.quantity":function(){this.quantity=this.item.quantity}},mounted(){var e;this.state="ready",this.quantity=this.item.quantity,null!==(e=this.item.properties)&&void 0!==e&&e._familyBundle&&this.queryFamilyProducts(this.item.properties._familyBundle),this.setEventListeners()},methods:{...(0,v.nv)({updateItem:"cart/updateItem",removeItem:"cart/updateItem"}),setEventListeners(){cnvs.EventBus.listen("family-bundle-remove",(e=>{this.item.key===e.key&&this.handleRemove()}))},async handleQuantityUpdate(e){const t=this.item.quantity;this.quantity=e;try{this.state="updating",await this.updateItem([{id:this.item.key,quantity:this.quantity}]),this.state="ready",this.quantity>t?(0,D.sg)(this.item):(0,D.gJ)(this.item,1)}catch(e){this.quantity=this.item.quantity,this.state="error"}},async queryFamilyProducts(e){if(!e)return;const t=`tag:'product-family:${e}'`;try{const e=await cnvs.Query({locale:cnvs.store.language,query:N(),variables:{country:cnvs.store.country,query:t}});if(cnvs.settings.disableComponentReadyState||!e.products.edges.length)return;const i=e.products.edges.filter((e=>this.item.handle!==e.node.handle));this.familyBundle=i.map((e=>(0,Q.il)({product:Object.values(e)[0]})))}catch(e){reportError("Failed to load family products",e)}},handleRemove(){"updating"!==this.state&&((0,D.gJ)(this.item,this.item.quantity),this.removeItem(this.item.key))}}},P=(0,w.Z)(I,[["render",function(e,t,i,v,h,b){var f,_,k,g,C,q,w,$;const S=(0,n.up)("responsive-image"),x=(0,n.up)("product-price-message"),D=(0,n.up)("product-prices"),B=(0,n.up)("quantity-selector"),N=(0,n.up)("icon-remove"),Q=(0,n.up)("cart-family-bundle"),I=(0,n.up)("cart-family-bundle-undo");return(0,n.wg)(),(0,n.iD)("div",{class:(0,n.C_)(["line-item",[e.$blockClass(i.blockClass,"line-item"),{[e.$class("loading")]:!i.item,[e.$class("updating")]:"updating"===h.state}]])},[(0,n._)("div",a,[(0,n._)("a",{href:i.item.url},[(0,n.Wm)(S,{class:(0,n.C_)(e.$blockClass(i.blockClass,"line-item-image")),"block-class":"line-item",image:i.item.featured_image,"lazy-load":!0,"min-max":"125-205",padding:!1,style:(0,n.j5)({animationDelay:b.animationDelay})},null,8,["class","image","style"])],8,s),(0,n._)("div",{class:(0,n.C_)(["line-item__body",e.$blockClass(i.blockClass,"line-item-body")]),style:(0,n.j5)({animationDelay:b.animationDelay})},[(0,n._)("a",{class:(0,n.C_)(["line-item__title subtitle-2",e.$blockClass(i.blockClass,"line-item-title")]),href:i.item.url,textContent:(0,n.zw)(i.item.product_title)},null,10,l),i.item.variant_title!==i.item.product_title?((0,n.wg)(),(0,n.iD)("p",{key:0,class:(0,n.C_)(["line-item__variant body-2",e.$blockClass(i.blockClass,"line-item-variant")]),textContent:(0,n.zw)(i.item.variant_title)},null,10,r)):(0,n.kq)("",!0),null!==(f=i.item.properties)&&void 0!==f&&f.ecoTax?((0,n.wg)(),(0,n.iD)("p",{key:1,class:"line-item__variant body-2",textContent:(0,n.zw)(i.item.properties.ecoTax)},null,8,o)):(0,n.kq)("",!0),e.$variable("settings.pricingDirective.enable")?((0,n.wg)(),(0,n.j4)(x,{key:2,"lowest-price":(null===(_=i.item.properties)||void 0===_?void 0:_._lowestPrice)||!1,"recommended-price":b.compareAtPrice>i.item.original_price&&e.$formatMoney(b.compareAtPrice)},null,8,["lowest-price","recommended-price"])):(0,n.kq)("",!0),(0,n.Wm)(D,{"block-class":"line-item",class:(0,n.C_)(["body-2",e.$blockClass(i.blockClass,"line-item-prices")]),"compare-at-price":b.compareAtPrice,price:null===(k=i.item)||void 0===k?void 0:k.final_price},null,8,["class","compare-at-price","price"]),null!==(g=i.item)&&void 0!==g&&null!==(C=g.properties)&&void 0!==C&&C._bundleAddOn?((0,n.wg)(),(0,n.iD)("span",{key:3,textContent:(0,n.zw)(e.$string("product_bundle_item.promo_note"))},null,8,u)):(0,n.kq)("",!0),(0,n._)("div",{class:(0,n.C_)(["line-item__footer",e.$blockClass(i.blockClass,"line-item-footer")])},[null!==(q=i.item.properties)&&void 0!==q&&q._buyxgety?((0,n.wg)(),(0,n.iD)("p",c,[(0,n._)("span",{textContent:(0,n.zw)(h.bundleMessage)},null,8,d),m,(0,n._)("span",{textContent:(0,n.zw)(b.bundleQuantity)},null,8,y)])):((0,n.wg)(),(0,n.j4)(B,{key:0,class:(0,n.C_)(e.$blockClass(i.blockClass,"line-item-quantity")),"block-class":"line-item",item:i.item,quantity:h.quantity,state:h.state,onUpdateQuantity:b.handleQuantityUpdate},null,8,["class","item","quantity","state","onUpdateQuantity"])),(0,n._)("button",{class:(0,n.C_)(["line-item__remove icon-button",[e.$blockClass(i.blockClass,"line-item-remove"),{[e.$class("disabled")]:"updating"===h.state}]]),type:"button","aria-label":e.$string("cart.line_item.remove"),onClick:t[0]||(t[0]=e=>b.handleRemove())},[(0,n.Wm)(N)],10,p)],2)],6)]),h.familyBundle&&(null===(w=h.familyBundle)||void 0===w?void 0:w.length)>0?((0,n.wg)(),(0,n.j4)(Q,{key:0,bundles:h.familyBundle,"line-item":i.item,index:i.index},null,8,["bundles","line-item","index"])):(0,n.kq)("",!0),null!==($=i.item.properties)&&void 0!==$&&$._undoProperties?((0,n.wg)(),(0,n.j4)(I,{key:1,"line-item":i.item},null,8,["line-item"])):(0,n.kq)("",!0)],2)}]])},8449:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return c}});var n=i(1797);const a=["disabled","aria-label"],s=["name","value","aria-label"],l=["disabled","aria-label"];var r=i(9668),o=i(611),u={name:"QuantitySelector",components:{IconMinus:r.Z,IconPlus:o.Z},props:{blockClass:{type:String,default:""},large:{type:Boolean,default:!1},item:{type:[Boolean,Object],default:!1},quantity:{type:Number,default:1,required:!0},state:{type:String,default:"loading"}},emits:["update-quantity"],data:()=>({localQuantity:1}),computed:{unavailable(){return!!this.item&&!1===this.item.available&&!this.item.quantity},limited(){if(!cnvs.settings.quantityLimits.enable)return!1;if(!this.item||!this.item.tags)return!1;const e=this.item.tags.find((e=>e.includes("limit:")));if(!e)return cnvs.settings.quantityLimits.storeLimit<=this.localQuantity;const t=e.split(":").slice(-1)[0];return"none"!==t.toLowerCase()&&t<=this.localQuantity},disableDecrease(){return this.unavailable||"updating"===this.state||"loading"===this.state||1===this.localQuantity},disableIncrease(){const e="shopify"===this.item.inventory_management&&"deny"===this.item.inventory_policy&&this.quantity>=this.inventory;return this.unavailable||this.limited||"updating"===this.state||"loading"===this.state||e},inventory(){var e;return(null===(e=this.item)||void 0===e?void 0:e.inventory_quantity)||0},name(){var e;return null!==(e=this.item)&&void 0!==e&&e.key?"updates[]":"quantity"}},watch:{quantity(){this.localQuantity=this.quantity}},mounted(){this.localQuantity=this.quantity||1},methods:{handleQuantityUpdate(e){"updating"===this.state||"decrease"===e&&this.disableDecrease||"increase"===e&&this.disableIncrease||("decrease"===e?this.localQuantity--:this.localQuantity++,this.$emit("update-quantity",this.localQuantity))}}},c=(0,i(4407).Z)(u,[["render",function(e,t,i,r,o,u){const c=(0,n.up)("icon-minus"),d=(0,n.up)("icon-plus");return(0,n.wg)(),(0,n.iD)("div",{class:(0,n.C_)(["quantity-selector",[e.$blockClass(i.blockClass,"quantity-selector"),{"quantity-selector--large":i.large,[e.$class("error")]:"error"===i.state}]])},[(0,n._)("div",{class:(0,n.C_)(["quantity-selector__control quantity-selector__control--button",e.$blockClass(i.blockClass,"quantity-control")])},[(0,n._)("button",{class:(0,n.C_)(["quantity-selector__button",[e.$blockClass(i.blockClass,"quantity-button"),{[e.$class("disabled")]:u.disableDecrease}]]),type:"button",disabled:u.disableDecrease,"aria-label":e.$string("cart.line_item.decrease_quantity"),onClick:t[0]||(t[0]=e=>u.handleQuantityUpdate("decrease"))},[(0,n.Wm)(c)],10,a)],2),(0,n._)("div",{class:(0,n.C_)(["quantity-selector__control quantity-selector__control--input",e.$blockClass(i.blockClass,"quantity-control")])},[(0,n._)("input",{class:(0,n.C_)(["quantity-selector__input",e.$blockClass(i.blockClass,"quantity-input")]),name:u.name,pattern:"[0-9]*",readonly:"",tabindex:"-1",type:"number",value:i.quantity,"aria-label":e.$string("cart.line_item.quantity")},null,10,s)],2),(0,n._)("div",{class:(0,n.C_)(["quantity-selector__control quantity-selector__control--button",e.$blockClass(i.blockClass,"quantity-control")])},[(0,n._)("button",{class:(0,n.C_)(["quantity-selector__button",[e.$blockClass(i.blockClass,"quantity-button"),{[e.$class("disabled")]:u.disableIncrease}]]),disabled:u.disableIncrease,type:"button","aria-label":e.$string("cart.line_item.increase_quantity"),onClick:t[1]||(t[1]=e=>u.handleQuantityUpdate("increase"))},[(0,n.Wm)(d)],10,l)],2)],2)}]])},6894:function(e,t,i){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"productsByQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"country"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CountryCode"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"query"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[{kind:"Directive",name:{kind:"Name",value:"inContext"},arguments:[{kind:"Argument",name:{kind:"Name",value:"country"},value:{kind:"Variable",name:{kind:"Name",value:"country"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"products"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"20"}},{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"query"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"product"},directives:[]}]}}]}}]}}]}}],loc:{start:0,end:247}};n.loc.source={body:'#import "~/graphql/fragments/product.gql"\n\nquery productsByQuery(\n  $country: CountryCode!,\n  $query: String!\n) @inContext(country: $country) {\n  products(first: 20, query: $query) {\n    edges {\n      node {\n        ...product\n      }\n    }\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function s(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&t.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){s(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){s(e,t)})),e.definitions&&e.definitions.forEach((function(e){s(e,t)}))}n.definitions=n.definitions.concat(i(3319).definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)})));var l={};function r(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}n.definitions.forEach((function(e){if(e.name){var t=new Set;s(e,t),l[e.name.value]=t}})),e.exports=n,e.exports.productsByQuery=function(e,t){var i={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var n=l[t]||new Set,a=new Set,s=new Set;for(n.forEach((function(e){s.add(e)}));s.size>0;){var o=s;s=new Set,o.forEach((function(e){a.has(e)||(a.add(e),(l[e]||new Set).forEach((function(e){s.add(e)})))}))}return a.forEach((function(t){var n=r(e,t);n&&i.definitions.push(n)})),i}(n,"productsByQuery")}}]);
//# sourceMappingURL=5946.bundle.min.js.map?v=1733162424563
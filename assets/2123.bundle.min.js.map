{"version":3,"file":"2123.bundle.min.js?v=1733162424563","mappings":"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","sources":["webpack:///../../../../../src/components/async/cart-bundle/cart-bundle-slide.vue","webpack:///../../../../../src/components/async/cart-bundle/cart-bundle-slide.vue?53d5","webpack:///../../../../../src/components/async/cart-bundle/cart-bundle.vue","webpack:///../../../../../src/components/async/cart-bundle/cart-bundle.vue?828c"],"sourcesContent":["<template>\n  <div class=\"cart-bundle__line-item-wrapper\">\n    <a\n      class=\"ajax-cart__image responsive-image__wrapper knockout-image\"\n      :href=\"`/products/${bundle.handle}`\"\n    >\n      <img\n        :alt=\"getVariant(bundle).title\"\n        sizes=\"auto\"\n        :src=\"getImageUrl(getVariant(bundle).featured_image.src, '50x')\"\n        :srcset=\"`\n          ${getImageUrl(getVariant(bundle).featured_image.src, '120x')} 120w,\n          ${getImageUrl(getVariant(bundle).featured_image.src, '240x')} 240w,\n          ${getImageUrl(getVariant(bundle).featured_image.src, '320x')} 320w\n        `\"\n      >\n    </a>\n\n    <div class=\"cart-bundle__description\">\n      <div class=\"cart-bundle__inner\">\n        <a\n          class=\"cart-bundle__title subtitle-2\"\n          :href=\"`/products/${bundle.handle}`\"\n          v-text=\"bundle.title\"\n        />\n        <div class=\"cart-bundle__variant-title\">\n          <span\n            v-for=\"(option, index) in bundle.options\"\n            :key=\"`bundle-options-${index}`\"\n          >\n            <template v-if=\"option.toLowerCase() !== 'title'\">\n              {{ option }}: {{ getVariant(bundle).options[index] }}\n            </template>\n          </span>\n        </div>\n        <div class=\"ajax-cart__price body-2\">\n          <span\n            class=\"visually-hidden\"\n            v-text=\"$string('cart.label.original_price')\"\n          />\n          <s\n            v-text=\"$formatMoney(strikeOutPrice)\"\n          />\n\n          <span\n            class=\"visually-hidden\"\n            v-text=\"$string('cart.label.discounted_price')\"\n          />\n          <span\n            class=\"ajax-cart__price-current\"\n            v-text=\"$formatMoney(getDiscountPrice(bundle))\"\n          />\n          <span\n            class=\"badge badge--primary\"\n            v-text=\"discountText\"\n          />\n        </div>\n\n        <div class=\"cart-bundle__swatches\">\n          <template\n            v-for=\"variant in bundle.variants\"\n            :key=\"variant.sku\"\n          >\n            <button\n              v-if=\"variant.available\"\n              class=\"product-card-swatches__swatch\"\n              :class=\"[\n                `product-card-swatches__swatch--${hasColorSwatch(bundle) ? 'color' : 'size'}`,\n                {'is-active': selectedVariant === variant.id}\n              ]\"\n              :title=\"variant.public_title\"\n              type=\"button\"\n              @click=\"selectedVariant = variant.id\"\n            >\n              <img\n                v-if=\"hasColorSwatch(bundle)\"\n                :alt=\"variant.public_title\"\n                class=\"product-card-swatches__image\"\n                :src=\"swatchUrl(bundle, variant)\"\n              >\n\n              <span\n                v-else\n                v-text=\"variant.public_title\"\n              />\n            </button>\n          </template>\n        </div>\n\n        <button\n          class=\"cart-bundle__add\"\n          tabindex=\"0\"\n          :data-cart-add=\"getVariant(bundle).id\"\n          @click.prevent=\"handleAddToCart(bundle)\"\n        >\n          <span v-text=\"$string('product.cta.add_to_bag')\" />\n          <span\n            class=\"is-hidden\"\n            v-text=\"$string('product.cta.add_to_cart_limit')\"\n          />\n        </button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n\n/**\n * Vue: Cart Bundle Slide (cart-bundle-slide)\n * -----------------------------------------------------------------------------\n * Newsletter form.\n *\n * @param {String} newsletterErrors - Errors from Shopify form\n * @param {Boolean} requiresConsent - Check if consent checkbox is required\n * @param {String} shopifyFormId - Shopify form ID\n *\n */\n\nimport { getSizedImageUrl } from '~/helpers/format'\nimport { mapActions } from 'vuex'\nimport timings from '~/config/timings'\n\nexport default {\n  name: 'CartBundleSlide',\n\n  props: {\n    bundle: {\n      type: Object,\n      default: () => ({}),\n    },\n  },\n\n  data() {\n    return {\n      selectedVariant: this.bundle.variants[0]?.id || null,\n    }\n  },\n\n  computed:{\n    discountText() {\n      if (this.bundle.discountType === 'percentage') {\n        return this.getPercentText(this.bundle.discountAmount)\n      } else if (this.bundle.discountType === 'amount') {\n        return this.getPercentTextNew(this.$formatMoney(this.bundle.discountAmountSaved * 100))\n      }\n      return ''\n    },\n\n    strikeOutPrice() {\n      if (this.getVariant(this.bundle).compare_at_price === null) {\n        return this.getVariant(this.bundle).price\n      }\n      else {\n        return this.getVariant(this.bundle).compare_at_price\n      }\n    },\n  },\n\n  methods: {\n\n    /**\n     * Map Vuex actions.\n     */\n    ...mapActions({\n      addItem: 'cart/addItem',\n    }),\n\n    /**\n     * Handle add to cart submission.\n     */\n    async handleAddToCart(item) {\n      const variant = this.getVariant(item)\n      if (!item || !variant) {\n        return\n      }\n\n      clearTimeout(this.timeout)\n      this.error = ''\n      this.state = 'adding'\n\n      if (cnvs.storybook) {\n        this.timeout = setTimeout(() => {\n          this.state = 'added'\n        }, timings.slow)\n\n        this.timeout = setTimeout(() => {\n          this.state = 'ready'\n        }, timings.message)\n\n        return\n      }\n\n\n      const lineItemProperties = {}\n      lineItemProperties._bundleAddOn = true\n      const items = [\n        {\n          id: variant.id,\n          properties: lineItemProperties,\n          quantity: 1,\n        },\n      ]\n\n      try {\n        await this.addItem(items)\n\n        this.state = 'added'\n\n        this.timeout = setTimeout(() => {\n          this.state = 'ready'\n          this.$emit('check-cart-bundle')\n          this.$emit('collapse-accordion')\n        }, timings.message)\n\n      } catch (error) {\n        this.state = 'error'\n\n        if (error.length) {\n          this.error = error\n          return\n        }\n\n        reportError('Failed to add product to cart', error)\n      }\n    },\n\n    /**\n     * Get percentage discount text.\n     * @param {Object} item - Current line item\n     * @returns {Number}\n     */\n    getDiscountPrice(item) {\n      const variant = this.getVariant(item)\n      let compareAtPrice\n\n      if (variant.compare_at_price === null) {\n        compareAtPrice = variant.price\n      } else {\n        compareAtPrice = variant.compare_at_price\n      }\n\n      if (item.discountType === 'percentage') {\n        const discountPercentage = item.discountAmount / 100\n        const discountAmount = compareAtPrice * discountPercentage\n        return Math.round(compareAtPrice - discountAmount)\n      }\n      else\n      {\n        return compareAtPrice - (item.discountAmountSaved * 100)\n      }\n    },\n\n    /**\n     * Get percentage discount text.\n     * @param {String} discount - Item percent discount\n     * @returns {String}\n     */\n    getPercentText(discount) {\n      return this.$string('product_bundles.percent_off').replace('{{amount}}', discount)\n    },\n    getPercentTextNew(discount) {\n      return this.$string('product_bundles.amount_off').replace('{{amount}}', discount)\n    },\n\n\n    /**\n     * Get one variant from product bundle.\n     * @param {Object} item - One product from bundle\n     * @returns {String}\n     */\n    getVariant(item) {\n      let variantAvailable = item.variants.find((variant) => {\n        return variant.id === this.selectedVariant && variant.available === true\n      })\n\n      if (!variantAvailable) {\n        variantAvailable = item.variants[0]\n        this.selectedVariant = variantAvailable.id\n      }\n\n      return variantAvailable\n    },\n\n    getImageUrl(src, size) {\n      return getSizedImageUrl(src, size)\n    },\n\n    swatchUrl(item, variant) {\n      const color = variant.options[0].toLowerCase()\n      const swatchUrl = item.swatchUrls[color]\n\n      return swatchUrl\n    },\n\n    hasColorSwatch(item) {\n      return item.options[0].toLowerCase() === 'color'\n    },\n  },\n}\n</script>","import { render } from \"./cart-bundle-slide.vue?vue&type=template&id=3e1a36f7\"\nimport script from \"./cart-bundle-slide.vue?vue&type=script&lang=js\"\nexport * from \"./cart-bundle-slide.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/buddy/hyperx-canvas-1/node_modules/@we-make-websites/basis/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <bundle-accordion\n    v-if=\"!fromMainCart\"\n    class=\"cart-bundle\"\n    :section=\"`cartBundles`\"\n    @update-active-items=\"updateActiveItems\"\n  >\n    <template #header>\n      <div\n        class=\"cart-bundle__control accordion__control subtitle-1\"\n        aria-controls=\"bundleCartDrawerContent\"\n        aria-expanded=\"false\"\n      >\n        <span>\n          <icon-tag />\n        </span>\n\n        <div class=\"cart-bundle__heading\">\n          <span\n            class=\"cart-bundle__title\"\n            v-text=\"$variable('productBundles.cartHeader')\"\n          />\n          <p\n            class=\"cart-bundle__description\"\n            v-text=\"$variable('productBundles.cartDescription')\"\n          />\n        </div>\n\n        <div\n          class=\"cart-bundle__cta\"\n        >\n          <span\n            class=\"cart-bundle__cta\"\n            v-text=\"ctaText\"\n          />\n          <span\n            class=\"cart-bundle__cta--chevron\"\n          >\n            <icon-chevron-down />\n          </span>\n        </div>\n      </div>\n    </template>\n\n    <template #item>\n      <div\n        id=\"bundleCartDrawerContent\"\n        class=\"cart-bundle__container\"\n        role=\"region\"\n        aria-labelledby=\"bundleCartDrawerAccordion1\"\n      >\n        <div>\n          <button\n            class=\"\n              js-cart-bundle-swiper-button\n              swiper-button-prev swiper-button-custom\n            \"\n            js-cart-bundle-carousel=\"prev\"\n          >\n            <icon-chevron-left />\n          </button>\n\n          <div\n            id=\"BundleCartCarousel-0\"\n            class=\"cart-bundle__carousel\"\n          >\n            <swiper\n              ref=\"bundleCarouselFromDrawer\"\n              key=\"cart-bundle\"\n              class=\"cart-bundle__slide-wrap\"\n              :modules=\"modules\"\n              :breakpoints=\"swiperSettings.breakpoints\"\n              :navigation=\"swiperSettings.navigation\"\n              :observer=\"true\"\n              :observe-parents=\"true\"\n              :prevent-interaction-on-transition=\"true\"\n              :slides-per-view=\"1\"\n              :watch-overflow=\"true\"\n              @swiper=\"onSwiper\"\n\n            >\n              <swiper-slide\n                v-for=\"(bundle, index) in bundles\"\n                :key=\"`cart-bundle-drawer-slide-${index}`\"\n                class=\"cart-bundle__line-item swiper-slide\"\n                data-index=\"${index}\"\n                data-product-id=\"${item.id}\"\n                data-next-slide=\"${window.theme.strings.accessibility.nextSlideMessage}\"\n                data-prev-slide=\"${window.theme.strings.accessibility.prevSlideMessage}\"\n              >\n                <cart-bundle-slide :bundle=\"bundle\" />\n              </swiper-slide>\n            </swiper>\n          </div>\n\n          <button\n            class=\"\n              js-cart-bundle-swiper-button\n              swiper-button-next swiper-button-custom\n            \"\n            js-cart-bundle-carousel=\"next\"\n          >\n            <icon-chevron-right />\n          </button>\n        </div>\n      </div>\n    </template>\n  </bundle-accordion>\n\n  <div\n    v-if=\"fromMainCart\"\n    class=\"cart-bundle--main-cart-desktop col xs12 l10 offset-l1\"\n  >\n    <div class=\"cart-bundle__heading--desktop\">\n      <h2\n        v-if=\"bundleHeading\"\n        class=\"cart-bundle__title--desktop h5\"\n      >\n        {{ bundleHeading }}\n        <icon-tag />\n      </h2>\n\n      <p\n        v-if=\"bundleCopy\"\n        class=\"cart-bundle__description--desktop body-1\"\n        v-text=\"bundleCopy\"\n      />\n\n      <div\n        v-show=\"bundles.length > 3\"\n        class=\"cart-bundle__navigation\"\n      >\n        <div\n          ref=\"swiperPrev\"\n          class=\"\n            js-cart-bundle-swiper-button\n            swiper-button-prev swiper-button-custom\n          \"\n          js-product-carousel=\"prev\"\n        >\n          <icon-chevron-left />\n        </div>\n\n        <div\n          ref=\"swiperNext\"\n          class=\"\n            js-cart-bundle-swiper-button\n            swiper-button-next swiper-button-custom\n          \"\n          js-product-carousel=\"next\"\n        >\n          <icon-chevron-right />\n        </div>\n      </div>\n    </div>\n\n    <swiper\n      ref=\"bundleCarousel\"\n      key=\"cart-bundle-main-cart\"\n      class=\"cart-bundle__slide-wrap\"\n      :modules=\"modules\"\n      :breakpoints=\"swiperSettings.breakpoints\"\n      :navigation=\"swiperSettings.navigation\"\n      :observer=\"true\"\n      :observe-parents=\"true\"\n      :prevent-interaction-on-transition=\"true\"\n      :slides-per-view=\"3\"\n      :watch-overflow=\"true\"\n      @swiper=\"onSwiper\"\n      @update=\"handleUpdate\"\n    >\n      <swiper-slide\n        v-for=\"(bundle, index) in bundles\"\n        :key=\"`cart-bundle-slide-${index}`\"\n        class=\"cart-bundle__line-item swiper-slide\"\n        data-index=\"${index}\"\n        data-product-id=\"${item.id}\"\n        data-next-slide=\"${window.theme.strings.accessibility.nextSlideMessage}\"\n        data-prev-slide=\"${window.theme.strings.accessibility.prevSlideMessage}\"\n      >\n        <cart-bundle-slide :bundle=\"bundle\" />\n      </swiper-slide>\n    </swiper>\n  </div>\n</template>\n\n<script>\n\n/**\n * Vue: Cart bundle (cart-bundle)\n * -----------------------------------------------------------------------------\n * Cart bundle.\n *\n */\nimport { Swiper, SwiperSlide } from 'swiper/vue'\nimport { A11y, Navigation } from 'swiper'\nimport { mapState } from 'vuex'\n\nimport BundleAccordion from '~async/bundle-accordion/bundle-accordion'\nimport CartBundleSlide from './cart-bundle-slide'\nimport IconChevronDown from '~icons/direction/chevron/down.svg'\nimport IconChevronLeft from '~icons/direction/chevron/left.svg'\nimport IconChevronRight from '~icons/direction/chevron/right.svg'\nimport IconTag from '~icons/misc/tag.svg'\n\nexport default {\n  name: 'CartBundle',\n\n  components: {\n    BundleAccordion,\n    CartBundleSlide,\n    IconChevronDown,\n    IconChevronLeft,\n    IconChevronRight,\n    IconTag,\n    Swiper,\n    SwiperSlide,\n  },\n\n  props: {\n    bundles: {\n      type: Array,\n      default: () => ([]),\n    },\n    fromMainCart: {\n      type: Boolean,\n      default: false,\n    },\n    bundle: {\n      type: Object,\n      default: () => ({}),\n    },\n  },\n\n  emits: ['check-cart-bundle'],\n  emits: ['add-bundle'],\n\n  setup() {\n    return {\n      modules: [A11y, Navigation],\n    }\n  },\n\n  data() {\n    return {\n      swiperSettings: {\n        breakpoints: {\n          0: {\n            slidesPerView: 1,\n            spaceBetween: 10,\n          },\n          768: {\n            slidesPerView: 1,\n            spaceBetween: 10,\n          },\n          1280: {\n            slidesPerView: this.fromMainCart ? 3 : 1,\n            spaceBetween: 18,\n          },\n        },\n        navigation: {\n          enabled: true,\n          nextEl: '.js-cart-bundle-swiper-button.swiper-button-next',\n          prevEl: '.js-cart-bundle-swiper-button.swiper-button-prev',\n        },\n      },\n      swiper: null,\n      activeItems: [],\n      swiperKey: 0,\n      bundleHeading: window.cnvs.productBundles.cartHeader,\n      bundleCopy: window.cnvs.productBundles.cartDescription,\n    }\n  },\n\n  computed: {\n\n    ...mapState({\n      cart: (state) => state.cart.response,\n    }),\n\n    ctaText() {\n      return this.activeItems.length > 0\n        ? this.$string('product_bundles.cart_cta_cancel')\n        : this.$string('product_bundles.cart_cta')\n    },\n  },\n\n  methods: {\n\n    /**\n     * Save swiper instance.\n     */\n     onSwiper(swiper) {\n      this.swiper = swiper\n    },\n\n    updateActiveItems(items) {\n      this.activeItems = items\n    },\n  },\n}\n</script>\n\n<style lang=\"scss\">\n@import '~/../styles/components/badge';\n@import './cart-bundle';\n</style>","import { render } from \"./cart-bundle.vue?vue&type=template&id=0c528c08\"\nimport script from \"./cart-bundle.vue?vue&type=script&lang=js\"\nexport * from \"./cart-bundle.vue?vue&type=script&lang=js\"\n\nimport \"./cart-bundle.vue?vue&type=style&index=0&id=0c528c08&lang=scss\"\n\nimport exportComponent from \"/buddy/hyperx-canvas-1/node_modules/@we-make-websites/basis/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","name","props","bundle","type","Object","default","data","selectedVariant","this","variants","id","computed","discountText","discountType","getPercentText","discountAmount","getPercentTextNew","$formatMoney","discountAmountSaved","strikeOutPrice","getVariant","compare_at_price","price","methods","mapActions","addItem","async","item","variant","clearTimeout","timeout","error","state","cnvs","storybook","setTimeout","timings","items","properties","lineItemProperties","quantity","$emit","length","reportError","getDiscountPrice","compareAtPrice","Math","round","discount","$string","replace","variantAvailable","find","available","getImageUrl","src","size","getSizedImageUrl","swatchUrl","color","options","toLowerCase","swatchUrls","hasColorSwatch","_createElementBlock","_createElementVNode","href","$props","handle","alt","$options","title","sizes","featured_image","srcset","_toDisplayString","_Fragment","_renderList","option","index","key","_ctx","sku","$data","public_title","onClick","tabindex","role","ref","components","BundleAccordion","CartBundleSlide","IconChevronDown","IconChevronLeft","IconChevronRight","IconTag","Swiper","SwiperSlide","bundles","Array","fromMainCart","Boolean","emits","setup","modules","A11y","Navigation","swiperSettings","breakpoints","slidesPerView","spaceBetween","navigation","enabled","nextEl","prevEl","swiper","activeItems","swiperKey","bundleHeading","window","productBundles","cartHeader","bundleCopy","cartDescription","mapState","cart","response","ctaText","onSwiper","updateActiveItems","_createBlock","_component_bundle_accordion","section","onUpdateActiveItems","header","_createVNode","_component_icon_tag","_component_icon_chevron_down","_component_icon_chevron_left","_component_swiper","$setup","observer","_component_swiper_slide","_component_cart_bundle_slide","_component_icon_chevron_right","onUpdate"],"sourceRoot":""}
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8378],{8449:function(t,e,a){a.r(e),a.d(e,{default:function(){return c}});var i=a(1797);const n=["disabled","aria-label"],s=["name","value","aria-label"],l=["disabled","aria-label"];var u=a(9668),o=a(611),r={name:"QuantitySelector",components:{IconMinus:u.Z,IconPlus:o.Z},props:{blockClass:{type:String,default:""},large:{type:Boolean,default:!1},item:{type:[Boolean,Object],default:!1},quantity:{type:Number,default:1,required:!0},state:{type:String,default:"loading"}},emits:["update-quantity"],data:()=>({localQuantity:1}),computed:{unavailable(){return!!this.item&&!1===this.item.available&&!this.item.quantity},limited(){if(!cnvs.settings.quantityLimits.enable)return!1;if(!this.item||!this.item.tags)return!1;const t=this.item.tags.find((t=>t.includes("limit:")));if(!t)return cnvs.settings.quantityLimits.storeLimit<=this.localQuantity;const e=t.split(":").slice(-1)[0];return"none"!==e.toLowerCase()&&e<=this.localQuantity},disableDecrease(){return this.unavailable||"updating"===this.state||"loading"===this.state||1===this.localQuantity},disableIncrease(){const t="shopify"===this.item.inventory_management&&"deny"===this.item.inventory_policy&&this.quantity>=this.inventory;return this.unavailable||this.limited||"updating"===this.state||"loading"===this.state||t},inventory(){var t;return(null===(t=this.item)||void 0===t?void 0:t.inventory_quantity)||0},name(){var t;return null!==(t=this.item)&&void 0!==t&&t.key?"updates[]":"quantity"}},watch:{quantity(){this.localQuantity=this.quantity}},mounted(){this.localQuantity=this.quantity||1},methods:{handleQuantityUpdate(t){"updating"===this.state||"decrease"===t&&this.disableDecrease||"increase"===t&&this.disableIncrease||("decrease"===t?this.localQuantity--:this.localQuantity++,this.$emit("update-quantity",this.localQuantity))}}},c=(0,a(4407).Z)(r,[["render",function(t,e,a,u,o,r){const c=(0,i.up)("icon-minus"),d=(0,i.up)("icon-plus");return(0,i.wg)(),(0,i.iD)("div",{class:(0,i.C_)(["quantity-selector",[t.$blockClass(a.blockClass,"quantity-selector"),{"quantity-selector--large":a.large,[t.$class("error")]:"error"===a.state}]])},[(0,i._)("div",{class:(0,i.C_)(["quantity-selector__control quantity-selector__control--button",t.$blockClass(a.blockClass,"quantity-control")])},[(0,i._)("button",{class:(0,i.C_)(["quantity-selector__button",[t.$blockClass(a.blockClass,"quantity-button"),{[t.$class("disabled")]:r.disableDecrease}]]),type:"button",disabled:r.disableDecrease,"aria-label":t.$string("cart.line_item.decrease_quantity"),onClick:e[0]||(e[0]=t=>r.handleQuantityUpdate("decrease"))},[(0,i.Wm)(c)],10,n)],2),(0,i._)("div",{class:(0,i.C_)(["quantity-selector__control quantity-selector__control--input",t.$blockClass(a.blockClass,"quantity-control")])},[(0,i._)("input",{class:(0,i.C_)(["quantity-selector__input",t.$blockClass(a.blockClass,"quantity-input")]),name:r.name,pattern:"[0-9]*",readonly:"",tabindex:"-1",type:"number",value:a.quantity,"aria-label":t.$string("cart.line_item.quantity")},null,10,s)],2),(0,i._)("div",{class:(0,i.C_)(["quantity-selector__control quantity-selector__control--button",t.$blockClass(a.blockClass,"quantity-control")])},[(0,i._)("button",{class:(0,i.C_)(["quantity-selector__button",[t.$blockClass(a.blockClass,"quantity-button"),{[t.$class("disabled")]:r.disableIncrease}]]),disabled:r.disableIncrease,type:"button","aria-label":t.$string("cart.line_item.increase_quantity"),onClick:e[1]||(e[1]=t=>r.handleQuantityUpdate("increase"))},[(0,i.Wm)(d)],10,l)],2)],2)}]])}}]);
//# sourceMappingURL=component.quantity-selector.js.map?v=1733162424563
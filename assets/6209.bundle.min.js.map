{"version":3,"file":"6209.bundle.min.js?v=1733162424563","mappings":"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","sources":["webpack:///../../../../../src/components/async/main-collection/facets-accordion.vue","webpack:///../../../../../src/components/async/main-collection/facets-accordion.vue?5801","webpack:///../../../../../src/components/async/main-collection/main-collection-facets.vue","webpack:///../../../../../src/components/async/main-collection/main-collection-facets.vue?3a66","webpack:///../../../../../src/components/async/main-collection/main-collection-filter-list.vue","webpack:///../../../../../src/components/async/main-collection/main-collection-filter-list.vue?93bb"],"sourcesContent":["<template>\n  <div class=\"accordion\">\n    <div\n      v-for=\"(facet, index) in facets\"\n      :key=\"facet.name\"\n    >\n      <ais-refinement-list\n        v-if=\"facet.title\"\n        :attribute=\"facet.name\"\n      >\n        <template #default=\"{ items, refine }\">\n          <div\n            v-if=\"items.length > 0\"\n            :ref=\"`${ section }-${ index }`\"\n            class=\"accordion__item\"\n            :class=\"{'is-active': activeItems.includes(`${ section }-${ index }`)}\"\n          >\n            <!-- <h4>{{ facet.title }}</h4>\n            {{ items }} -->\n            <div\n              :class=\"`accordion__title ${facet.title}`\"\n              :aria-controls=\"`content-${ index }`\"\n              :aria-expanded=\"activeItems.includes(`${ section }-${ index }`)\"\n              @click.prevent=\"() => toggleItem(`${ section }-${ index }`)\"\n            >\n              <span\n                :aria-controls=\"`content-${ index }`\"\n                aria-expanded=\"false\"\n                v-text=\"facet.title\"\n              />\n              <button\n                :id=\"`Accordion${ index }`\"\n                class=\"accordion-footer__control filter_control\"\n                :aria-controls=\"`content-${ index }`\"\n                aria-expanded=\"false\"\n                :aria-label=\"facet.name\"\n              >\n                <icon-minus />\n                <icon-plus />\n              </button>\n            </div>\n\n            <div\n              v-if=\"activeItems.includes(`${ section }-${ index }`) || expandAll\"\n              :id=\"`content-${ index }`\"\n              class=\"accordion__content\"\n              role=\"region\"\n              :aria-labelledby=\"`Accordion${ index }`\"\n            >\n              <filter-list\n                class=\"filter\"\n                :facet=\"facet\"\n                :items=\"items\"\n                :refine=\"refine\"\n              />\n            </div>\n          </div>\n        </template>\n      </ais-refinement-list>\n    </div>\n    <!-- <div\n      v-for=\"(facet, index) in facets\"\n      :key=\"`facet${index}`\"\n    >\n      <ais-refinement-list\n        v-if=\"facet.title\"\n        :attribute=\"facet.name\"\n      >\n        <template #default=\"{ items, refine }\">\n          <div v-if=\"items.length > 0\">\n            <h4>{{ facet.title }}</h4>\n            {{ items }}\n          </div>\n        </template>\n      </ais-refinement-list>\n    </div> -->\n  </div>\n</template>\n\n<script>\nimport { AisRefinementList } from 'vue-instantsearch/vue3/es'\nimport FilterList from './main-collection-filter-list'\nimport IconMinus from '~icons/misc/minus.svg'\nimport IconPlus from '~icons/misc/plus.svg'\nimport breakpoints from '~/config/breakpoints'\n\n\nexport default {\n  name: 'FacetsAccordion',\n  components: {\n    AisRefinementList,\n    FilterList,\n    IconMinus,\n    IconPlus,\n  },\n  props: {\n    facets: {\n      type: Array,\n      default: () => ([]),\n    },\n    expandAll: {\n      type: Boolean,\n      default: false,\n    },\n    expandLimit: {\n      type: [Number, Boolean],\n      default: false,\n    },\n    scrollTo: {\n      type: Boolean,\n      default: false,\n    },\n    section: {\n      type: String,\n      default: '',\n    },\n  },\n  data() {\n    return {\n      activeItems: [],\n    }\n  },\n  mounted() {\n    if (this.expandAll || this.expandLimit) {\n      this.addActiveItems()\n    }\n  },\n  methods: {\n\n    /**\n     * Toggle targeted accordion item.\n     * @param {HTMLElement} control - The clicked accordion control.\n     */\n    toggleItem(control) {\n      const item = this.$refs[control]\n      if (this.isItemExpanded(control)) {\n        const { activeItems } = this\n        const itemIndex = activeItems.indexOf(control)\n        activeItems.splice(itemIndex, 1)\n\n      } else {\n        this.activeItems.push(control)\n      }\n\n      if (this.scrollTo) {\n        this.setWindowScroll(item[0])\n      }\n    },\n\n    /**\n     * Check if item is active.\n     * @param {HTMLElement} control - The accordion item.\n     * @returns {Boolean}\n     */\n    isItemExpanded(control) {\n      return this.activeItems.includes(control)\n    },\n\n    addActiveItems() {\n      this.facets.map((el, index) => {\n        if (this.expandAll || (this.expandLimit && index < this.expandLimit)) {\n          this.activeItems.push(`${this.section}-${index}`)\n        }\n      })\n    },\n\n   /**\n   * Set window scroll\n   * @param {Object} target - The returned element that was clicked\n   */\n    setWindowScroll(target) {\n      if (!window.matchMedia(`(min-width: ${breakpoints.l})`).matches) {\n          target.scrollIntoView({\n            behavior: 'smooth',\n          })\n      }\n    },\n  },\n}\n</script>","import { render } from \"./facets-accordion.vue?vue&type=template&id=72f9f30d\"\nimport script from \"./facets-accordion.vue?vue&type=script&lang=js\"\nexport * from \"./facets-accordion.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/buddy/hyperx-canvas-1/node_modules/@we-make-websites/basis/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div class=\"filters\">\n    <div class=\"filters__head\">\n      <div\n        class=\"filters__heading h5\"\n        v-text=\"$string('collection.general.filter_label')\"\n      />\n      <ais-clear-refinements>\n        <template #default=\"{ canRefine, refine }\">\n          <button\n            v-if=\"canRefine\"\n            class=\"filters__clear subtitle-1\"\n            @click.prevent=\"refine\"\n            v-text=\"$string('collection.filtering.clear_all')\"\n          />\n          <span v-else />\n        </template>\n      </ais-clear-refinements>\n      <div\n        class=\"filters__current-container\"\n      >\n        <ais-current-refinements\n          :transform-items=\"transformItems\"\n        >\n          <template #default=\"{ items }\">\n            <ul class=\"filters__current\">\n              <template\n                v-for=\"item in items\"\n                :key=\"item.attribute\"\n              >\n                <li\n                  v-for=\"refinement in item.refinements\"\n                  :key=\"[\n                    refinement.attribute,\n                    refinement.type,\n                    refinement.value,\n                    refinement.operator\n                  ].join(':')\"\n                  class=\"filters__current-item\"\n                >\n                  <span class=\"filters__current-label\">\n                    {{ filterValue(item) }}:&nbsp;\n                  </span>\n                  <span class=\"filters__current-value\">\n                    {{ getFormattedRefinementLabel(refinement) }}\n                  </span>\n\n                  <button\n                    class=\"filters__current-remove\"\n                    v-bind=\"createDataAttributes(refinement)\"\n                    @click.prevent=\"item.refine(refinement)\"\n                  >\n                    <icon-close />\n                  </button>\n                </li>\n              </template>\n            </ul>\n          </template>\n        </ais-current-refinements>\n      </div>\n      <button\n        class=\"filters__close\"\n        value=\"Close\"\n        data-target=\"filterMenu\"\n        @click.prevent=\"closeOverlay('filterDrawer')\"\n      >\n        <icon-close />\n      </button>\n    </div>\n    <div class=\"filters__body\">\n      <facets-accordion\n        :facets=\"facets\"\n        :section=\"`collection-filter`\"\n        :expand-limit=\"3\"\n        :expand-all=\"isMobile\"\n      />\n    </div>\n    <div class=\"filters__footer\">\n      <ais-clear-refinements>\n        <template #default=\"{ canRefine, refine }\">\n          <button\n            v-if=\"canRefine\"\n            class=\"filters__clear subtitle-1\"\n            @click.prevent=\"refine\"\n            v-text=\"$string('collection.filtering.clear_all')\"\n          />\n          <span v-else />\n        </template>\n      </ais-clear-refinements>\n\n      <button\n        class=\"filters__submit button\"\n        value=\"Close\"\n        @click.prevent=\"closeOverlay('filterDrawer')\"\n      >\n        <ais-stats>\n          <template #default=\"{ nbHits }\">\n            {{ filterStatsText(nbHits) }}\n          </template>\n        </ais-stats>\n\n        <icon-arrow-up-right />\n      </button>\n    </div>\n  </div>\n</template>\n\n<script>\n\n/**\n * Vue: Main collection facets (main-collection-facets)\n * -----------------------------------------------------------------------------\n * Collection facets\n *\n */\nimport { AisCurrentRefinements, AisClearRefinements, AisStats } from 'vue-instantsearch/vue3/es'\nimport { mapActions, mapState } from 'vuex'\nimport FacetsAccordion from './facets-accordion'\nimport IconArrowUpRight from '~icons/direction/arrow/up-right.svg'\nimport IconClose from '~icons/misc/close.svg'\n\nexport default {\n  name: 'MainCollectionFacets',\n\n  components: {\n    AisClearRefinements,\n    AisCurrentRefinements,\n    AisStats,\n    IconArrowUpRight,\n    IconClose,\n    FacetsAccordion,\n  },\n\n  props: {\n    facets: {\n      type: Array,\n      default: () => ([]),\n    },\n  },\n\n  data() {\n    return {\n      reviewsLoadAttempts: 0,\n    }\n  },\n\n  computed: {\n\n    /**\n     * Map Vuex state.\n     */\n    ...mapState({\n      isMobile: (state) => state.index.screen.width <= 768,\n    }),\n  },\n\n  methods: {\n\n    /**\n     * Map Vuex actions.\n     */\n    ...mapActions({\n      closeOverlay: 'overlays/close',\n    }),\n\n    /**\n     * Gets matching facet title\n     * @param {Object} item - Filtered item.\n     * @returns {String}\n     */\n    filterValue(item) {\n      const matchingFacet = this.facets.find((facet) => facet.name === item.label)\n      return matchingFacet.title\n    },\n\n    /**\n     * Filter stat text based on results\n     * @param {Number} hits - Total results.\n     * @returns {String}\n     */\n    filterStatsText(hits) {\n      return hits > 1 || hits === 0\n        ? this.$string('search.stats.plural', { replace: { count: hits } })\n        : this.$string('search.stats.singular',  { replace: { count: hits } })\n    },\n\n    /**\n     * Applies formatting to refinement labels.\n     * @param {Object} refinement - Refinement object.\n     */\n    getFormattedRefinementLabel(refinement) {\n      const { attribute, label, value } = refinement\n      let formattedLabel\n\n      if (attribute === 'price') {\n        const { operator } = refinement\n        const formattedPrice = this.$formatMoney(Number(value))\n\n        if (operator === '>=') {\n          formattedLabel = `Over ${formattedPrice}`\n        } else if (operator === '<=') {\n          formattedLabel = `Under ${formattedPrice}`\n        }\n      }\n\n      return formattedLabel || label\n    },\n\n    /**\n     * Creates data attributes.\n     * @param {Object} refinement - Refinement object.\n     * @returns {Object}\n     */\n    createDataAttributes(refinement) {\n      return Object.keys(refinement).reduce((prevValue, key) => {\n        const value = encodeURIComponent(refinement[key])\n        return { ...prevValue, [`data-${key}`]: value }\n      }, {})\n\n    },\n    transformItems(items) {\n      this.resetReviews()\n\n      return items\n    },\n\n    /**\n     * Reset yotpo star reviews\n     * - recursively makes a few attempts\n     */\n    resetReviews() {\n      if (window.yotpoWidgetsContainer &&\n      typeof window.yotpoWidgetsContainer.initWidgets === 'function') {\n        this.reviewsLoadAttempts = 0\n        window.yotpoWidgetsContainer?.initWidgets()\n        return\n      }\n\n      if (this.reviewsLoadAttempts < 10) {\n        this.reviewsLoadAttempts++\n        setTimeout(() =>{\n          this.resetReviews()\n        }, 300)\n        return\n      }\n\n      this.reviewsLoadAttempts = 0\n    },\n  },\n}\n</script>\n\n<style lang=\"scss\">\n@import '~/../styles/components/filters';\n</style>\n","import { render } from \"./main-collection-facets.vue?vue&type=template&id=0f8d61e7\"\nimport script from \"./main-collection-facets.vue?vue&type=script&lang=js\"\nexport * from \"./main-collection-facets.vue?vue&type=script&lang=js\"\n\nimport \"./main-collection-facets.vue?vue&type=style&index=0&id=0f8d61e7&lang=scss\"\n\nimport exportComponent from \"/buddy/hyperx-canvas-1/node_modules/@we-make-websites/basis/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <ul\n    class=\"filter__list\"\n    :class=\"{'filter__list--swatches': facet.name === 'named_tags.color'}\"\n  >\n    <li\n      v-for=\"list in items\"\n      :key=\"list.title\"\n      class=\"filter__item checkbox__container\"\n      :data-value=\"encodedValue\"\n      @click.prevent=\"refine(list.value)\"\n    >\n      <input\n        :id=\"encodedValue\"\n        type=\"checkbox\"\n        class=\"checkbox__input\"\n        :aria-checked=\"list.isRefined\"\n        tabindex=\"0\"\n        :checked=\"list.isRefined\"\n      >\n\n      <template v-if=\"facet.name === 'named_tags.color'\">\n        <label\n          class=\"checkbox__swatch\"\n          :for=\"encodedValue\"\n        >\n          <img\n            class=\"product-card-swatches__image\"\n            :alt=\"list.label\"\n            :title=\"list.label\"\n            :src=\"sanitizedSwatchUrl(list.label)\"\n          >\n        </label>\n      </template>\n      <template v-else>\n        <label\n          class=\"checkbox__label\"\n          :for=\"encodedValue\"\n        >\n          {{ formatLabel(list.label) }}\n          <span class=\"filter__count\">&nbsp;({{ list.count }})</span>\n        </label>\n      </template>\n    </li>\n  </ul>\n</template>\n<script>\n\n/**\n * Vue: Filter list (filter-list)\n * -----------------------------------------------------------------------------\n * Collection Algolia filter\n *\n */\nimport { handleize } from '~/helpers/general'\n\nexport default {\n  name: 'FilterList',\n\n  props: {\n    facet: {\n      type: [Array, Object],\n      default: () => ({}),\n    },\n    items: {\n      type: Array,\n      default: () => [],\n    },\n    refine: {\n      type: Function,\n      default: () => ({}),\n    },\n  },\n\n  data() {\n    return {\n\n    }\n  },\n\n  computed: {\n    encodedValue() {\n      return encodeURIComponent(this.facet.title)\n    },\n  },\n\n  methods: {\n\n    /**\n     * Format label price.\n     * @param {String} label - Facet label.\n     * @return {String}\n     */\n    formatPriceLabel(label) {\n      if (label.length === 3) {\n        return this.$formatMoney(`${label}0`)\n      }\n\n      return this.$formatMoney(label)\n    },\n\n    /**\n     * Format price range label.\n     * @param {String} label - Facet label.\n     * @return {String}\n     */\n    formatPriceRange(label) {\n      return label.split(':').map(item => this.formatPriceLabel(`${item}.00`)).join(' - ')\n    },\n\n    /**\n     * Format facet price and price range\n     * @param {String} label - Facet label.\n     * @return {String}\n     */\n    formatLabel(label) {\n      if (this.facet.name === 'price') {\n        return this.formatPriceLabel(label)\n      }\n\n      if (this.facet.name === 'price_range') {\n        return this.formatPriceRange(label)\n      }\n\n      return label\n    },\n\n    /**\n     * Sanitized swatch url\n     * @param {String} color - Swatch color.\n     * @return {String}\n     */\n    sanitizedSwatchUrl(color) {\n      return cnvs.urls.files\n          .replace('placeholder', `swatch_${handleize(color)}_20x20.png`)\n    },\n  },\n}\n</script>\n\n","import { render } from \"./main-collection-filter-list.vue?vue&type=template&id=cf17eeae\"\nimport script from \"./main-collection-filter-list.vue?vue&type=script&lang=js\"\nexport * from \"./main-collection-filter-list.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/buddy/hyperx-canvas-1/node_modules/@we-make-websites/basis/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","name","components","AisRefinementList","FilterList","IconMinus","IconPlus","props","facets","type","Array","default","expandAll","Boolean","expandLimit","Number","scrollTo","section","String","data","activeItems","mounted","this","addActiveItems","methods","toggleItem","control","item","$refs","isItemExpanded","itemIndex","indexOf","splice","push","setWindowScroll","includes","map","el","index","target","window","matchMedia","breakpoints","matches","scrollIntoView","behavior","_createElementBlock","_Fragment","_renderList","$props","facet","key","title","_createBlock","_component_ais_refinement_list","attribute","items","refine","length","ref","$data","_createElementVNode","onClick","$options","_toDisplayString","id","_createVNode","_component_icon_minus","_component_icon_plus","role","_component_filter_list","AisClearRefinements","AisCurrentRefinements","AisStats","IconArrowUpRight","IconClose","FacetsAccordion","reviewsLoadAttempts","computed","mapState","isMobile","state","screen","width","mapActions","closeOverlay","filterValue","find","label","filterStatsText","hits","$string","replace","count","getFormattedRefinementLabel","refinement","value","formattedLabel","operator","formattedPrice","$formatMoney","createDataAttributes","Object","keys","reduce","prevValue","encodeURIComponent","transformItems","resetReviews","yotpoWidgetsContainer","initWidgets","setTimeout","_ctx","_component_ais_clear_refinements","canRefine","_hoisted_5","_component_ais_current_refinements","refinements","join","_component_icon_close","_component_facets_accordion","_hoisted_14","_component_ais_stats","nbHits","_component_icon_arrow_up_right","Function","encodedValue","formatPriceLabel","formatPriceRange","split","formatLabel","sanitizedSwatchUrl","color","cnvs","urls","files","handleize","list","isRefined","tabindex","checked","for","alt","src"],"sourceRoot":""}
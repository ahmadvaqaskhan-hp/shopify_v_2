(self.webpackChunk=self.webpackChunk||[]).push([[6485],{3080:function(e,n,i){"use strict";i.r(n),i.d(n,{default:function(){return b}});var t=i(1797);const o={key:0,class:"product-carousel__wrapper row recommended-products critical-component-clear"},r={class:"product-carousel__content-wrapper"},a={class:"product-carousel__content"},s=["textContent"],d=["textContent"],c={class:"product-carousel__carousel-wrapper swiper-outer-container"},u={ref:"swiperPrev",class:"swiper-button-prev swiper-button-custom","js-product-carousel":"prev"},l=(0,t._)("div",{class:"product-carousel__placeholder"},null,-1),p={ref:"swiperNext",class:"swiper-button-next swiper-button-custom","js-product-carousel":"next"};var m=i(3335),v=i(3482),f=i(5451),w=i(7251),k=i(2262),h=i(4080),y=i.n(h),g=i(9579),_={name:"RecommendedProducts",components:{IconChevronRight:k.Z,IconChevronLeft:w.Z,ProductCard:f.default,Swiper:v.tq,SwiperSlide:v.o5},props:{liquid:{type:Object,default:()=>({productId:"",sectionId:"",heading:"",limit:""})}},setup:()=>({modules:[m.s5,m.W_]}),data:()=>({show:!1,products:[],swiper:{breakpoints:{576:{spaceBetween:16},768:{spaceBetween:24}},navigation:{nextEl:'[js-product-carousel="next"]',prevEl:'[js-product-carousel="prev"]'},a11y:{prevSlideMessage:window.cnvs.strings.accessibility.carousel.previous,nextSlideMessage:window.cnvs.strings.accessibility.carousel.next}}}),async mounted(){await this.getShopifyRecommendedProducts(this.liquid.productId),this.resetReviews()},methods:{async getShopifyRecommendedProducts(e){const n=`gid://shopify/Product/${e}`;try{const e=await cnvs.Query({locale:cnvs.store.language,query:y(),variables:{country:cnvs.store.country,id:n}});if(!e.productRecommendations)return;let i=this.liquid.limit;i>e.productRecommendations.length&&(i=e.productRecommendations.length);for(let n=0;n<i;n++){const i=(0,g.os)(e.productRecommendations[n]);this.products.push(i)}this.show=!0}catch(e){console.error(e)}},resetReviews(){var e;console.log("resetReviews",window.yotpoWidgetsContainer),window.yotpoWidgetsContainer&&(null===(e=window.yotpoWidgetsContainer)||void 0===e||e.initWidgets())}}},b=(0,i(4407).Z)(_,[["render",function(e,n,i,m,v,f){const w=(0,t.up)("icon-chevron-left"),k=(0,t.up)("product-card"),h=(0,t.up)("swiper-slide"),y=(0,t.up)("swiper"),g=(0,t.up)("icon-chevron-right");return v.show?((0,t.wg)(),(0,t.iD)("div",o,[(0,t._)("div",r,[(0,t._)("div",a,[i.liquid.heading?((0,t.wg)(),(0,t.iD)("div",{key:0,class:"product-carousel__title h4",textContent:(0,t.zw)(i.liquid.heading)},null,8,s)):(0,t.kq)("",!0),(0,t._)("p",{class:"product-carousel__subtitle h6",textContent:(0,t.zw)(e.$string("product.recommended_products_subtitle"))},null,8,d)])]),(0,t._)("div",c,[(0,t._)("div",u,[(0,t.Wm)(w)],512),(0,t.Wm)(y,{id:`ProductCarousel-${i.liquid.sectionId}`,modules:m.modules,breakpoints:v.swiper.breakpoints,"prevent-interaction-on-transition":!0,navigation:v.swiper.navigation,observer:!0,"observe-parents":!0,"slides-per-view":"auto","space-between":16,threshold:5,class:"product-carousel__carousel"},{default:(0,t.w5)((()=>[v.products.length?((0,t.wg)(!0),(0,t.iD)(t.HY,{key:0},(0,t.Ko)(v.products,(e=>((0,t.wg)(),(0,t.j4)(h,{key:e.handle,class:"product-carousel__slide","js-product-carousel":"slide"},{default:(0,t.w5)((()=>[(0,t.Wm)(k,{product:e},null,8,["product"])])),_:2},1024)))),128)):((0,t.wg)(!0),(0,t.iD)(t.HY,{key:1},(0,t.Ko)(i.liquid.limit,(e=>((0,t.wg)(),(0,t.j4)(h,{key:e,class:"product-carousel__slide","js-product-carousel":"slide"},{default:(0,t.w5)((()=>[l])),_:2},1024)))),128))])),_:1},8,["id","modules","breakpoints","navigation"]),(0,t._)("div",p,[(0,t.Wm)(g)],512)])])):(0,t.kq)("",!0)}]])},4080:function(e,n,i){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"productRecommendations"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"country"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CountryCode"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[{kind:"Directive",name:{kind:"Name",value:"inContext"},arguments:[{kind:"Argument",name:{kind:"Name",value:"country"},value:{kind:"Variable",name:{kind:"Name",value:"country"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"productRecommendations"},arguments:[{kind:"Argument",name:{kind:"Name",value:"productId"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"product"},directives:[]}]}}]}}],loc:{start:0,end:207}};t.loc.source={body:'#import "~/graphql/fragments/product.gql"\n\nquery productRecommendations(\n  $country: CountryCode!,\n  $id: ID!\n) @inContext(country: $country) {\n  productRecommendations(productId: $id) {\n    ...product\n  }\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var o={};function r(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){r(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){r(e,n)})),e.definitions&&e.definitions.forEach((function(e){r(e,n)}))}t.definitions=t.definitions.concat(i(3319).definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!o[n]&&(o[n]=!0,!0)})));var a={};function s(e,n){for(var i=0;i<e.definitions.length;i++){var t=e.definitions[i];if(t.name&&t.name.value==n)return t}}t.definitions.forEach((function(e){if(e.name){var n=new Set;r(e,n),a[e.name.value]=n}})),e.exports=t,e.exports.productRecommendations=function(e,n){var i={kind:e.kind,definitions:[s(e,n)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var t=a[n]||new Set,o=new Set,r=new Set;for(t.forEach((function(e){r.add(e)}));r.size>0;){var d=r;r=new Set,d.forEach((function(e){o.has(e)||(o.add(e),(a[e]||new Set).forEach((function(e){r.add(e)})))}))}return o.forEach((function(n){var t=s(e,n);t&&i.definitions.push(t)})),i}(t,"productRecommendations")}}]);
//# sourceMappingURL=component.recommended-products.js.map?v=1733162424563
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2231,3518,2760],{7484:function(e,t,a){a.d(t,{Z:function(){return n}});var i=a(1797);const r={class:"icon icon__chevron icon__chevron--left icon__arrow icon__arrow--chevron-left",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},l=[(0,i._)("path",{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12l4.58-4.59z"},null,-1)],s={};var n=(0,a(4407).Z)(s,[["render",function(e,t){return(0,i.wg)(),(0,i.iD)("svg",r,l)}]])},9022:function(e,t,a){a.d(t,{Z:function(){return n}});var i=a(1797);const r={class:"icon icon__chevron icon__chevron--right icon__arrow icon__arrow--chevron-right",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},l=[(0,i._)("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6-6-6z"},null,-1)],s={};var n=(0,a(4407).Z)(s,[["render",function(e,t){return(0,i.wg)(),(0,i.iD)("svg",r,l)}]])},2625:function(e,t,a){a.r(t),a.d(t,{default:function(){return x}});var i=a(1797);const r={class:"template-product__main"},l={class:"row container"},s={class:"template-product__header"},n={class:"col xs12"},o={class:"template-product__breadcrumb"},d={class:"row container"},u={class:"row container"},c={class:"col xs12 m6 l7 xl8"},p={class:"template-product__gallery"},m={class:"col xs12 m6 l5 xl4 container"},g={class:"template-product__aside"},h={class:"main-product__form"},v=["innerHTML"],_=["innerHTML"];var w=a(2488),b=a(3085),f=a(1191),y=a(334),k=a(2788),S=a.n(k),$=a(9579),q={name:"MainProduct",components:{Breadcrumb:y.default,ProductForm:w.default,ProductGallery:f.default,ProductFormHeader:b.default},props:{breadcrumb:{type:[Boolean,Object],default:!1},handle:{type:String,default:cnvs.page.handle},enableBreadcrumbs:{type:Boolean,default:!1},liquid:{type:Object,default:()=>({description:"",hasOnlyDefaultVariant:!1,price:0,sectionId:"",title:"",allowPreOrder:!1})},product:{type:[Object,Boolean],default:!1},media:{type:[Array],default:()=>[]},variant:{type:[Object,Boolean],default:()=>({})},template:{type:String,default:""},reviews:{type:String,default:()=>""}},emits:["update-request-object"],data:()=>({currentHandle:cnvs.page.handle,previousProductGalleryImages:[],state:"loading",images:null,color:null,bundles:{...window.cnvs.productBundles},unmatchedVariant:!1}),computed:{badgeTag(){var e;if(null===(e=this.product)||void 0===e||!e.tags)return!1;const t=["badge:","badge_pink:"];return this.product.tags.find((e=>t.find((t=>e.indexOf(t)>-1))))||!1},badgeModifiers(){var e;if(!this.badgeTag)return!1;const t=null===(e=this.badgeTag)||void 0===e?void 0:e.toLowerCase().match(/badge_(.+):/);return t&&t[1]},promoSaleMessage(){var e,t;const a=[],{collectionPromos:i}=this.metafields,r=this.$variable("sale.enablePDPSaleMessage"),l=this.$variable("sale.pdpSaleMessaging");if((null===(e=this.product)||void 0===e||null===(t=e.tags)||void 0===t?void 0:t.indexOf("discount:not-eligible"))>-1)return null;if(r&&l&&a.push(l),i)for(let e=0;e<i.length;e++){const{message:t,priority:r}=i[e];if("true"===r){a.length=0,a.push(t);break}a.push(t)}return a.length>1&&r&&l&&a.shift(),a.length?a.join("\n"):""},isGiftProduct(){return this.product.giftCard}},watch:{currentHandle(){this.queryProduct(this.currentHandle)},product(){this.images=this.productGalleryImages()},variant(){this.color=this.selectedColor()}},mounted(){this.queryProduct()},methods:{async queryProduct(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.handle;if(!1!==e)if(this.product.handle!==e||this.product.liquid)try{const t=await cnvs.Query({locale:cnvs.store.language,query:S(),variables:{country:cnvs.store.country,handle:e}});if(t.product||(t.product=this.liquid),cnvs.settings.disableComponentReadyState)return;this.$emit("update-request-object",{response:(0,$.il)(t),type:"product"}),this.state="ready"}catch(e){reportError("Failed to load product",e)}else this.state="ready"},handleVariantUpdate(e){this.$emit("update-request-object",{response:e,type:"variant"});const t=null!=e&&e.id?`${location.origin}${location.pathname}?variant=${e.id}`:`${location.origin}${location.pathname}`;history.replaceState({html:""},"",t)},handleProductUpdate(e){var t;this.$emit("update-request-object",{response:e,type:"product"});const a=null!==(t=e.variants[0])&&void 0!==t&&t.id?`${e.url}?variant=${e.variants[0].id}`:`${e.url}`;history.replaceState({html:""},"",a)},productGalleryImages(){var e;const t=(null===(e=this.product)||void 0===e?void 0:e.images)||[];return this.color&&this.product?t.length>0?t:this.images:t.filter((e=>{var t;const a=(null===(t=e.alt)||void 0===t?void 0:t.toLowerCase())||"";return!a.includes("swatch")&&!a.includes("visualizer")}))},selectedColor(){var e,t,a;if(!(this.variant||null!==(e=this.variant)&&void 0!==e&&e.selectedOptions))return!1;const i=null===(t=this.variant)||void 0===t?void 0:t.selectedOptions.find((e=>{var t;return"color"===(null===(t=e.name)||void 0===t?void 0:t.toLowerCase())}));return!!i&&(null===(a=i.value)||void 0===a?void 0:a.toLowerCase())},checkMatchingVariant(e){this.unmatchedVariant=e}}},x=(0,a(4407).Z)(q,[["render",function(e,t,a,w,b,f){const y=(0,i.up)("breadcrumb"),k=(0,i.up)("product-form-header"),S=(0,i.up)("product-gallery"),$=(0,i.up)("product-form");return(0,i.wg)(),(0,i.iD)("div",{class:(0,i.C_)(["template-product__container component-section critical-component-clear",{[e.$class("loading")]:!e.getComponentActive("main-product")||"loading"===b.state}])},[(0,i._)("div",r,[(0,i._)("div",l,[(0,i._)("div",s,[(0,i._)("div",n,[(0,i._)("div",o,[a.enableBreadcrumbs?((0,i.wg)(),(0,i.j4)(y,{key:0,"additional-path":a.breadcrumb,"page-title":a.product.title},null,8,["additional-path","page-title"])):(0,i.kq)("",!0)])])])]),(0,i._)("div",d,[(0,i.Wm)(k,{"block-class":"mobile-only",liquid:a.liquid,product:a.product,variant:a.variant,"missing-variant":b.unmatchedVariant},null,8,["liquid","product","variant","missing-variant"])]),(0,i._)("div",u,[(0,i._)("div",c,[(0,i._)("div",p,[(0,i.Wm)(S,{color:b.color,images:b.images,media:a.media,template:a.template,state:b.state,"selected-variant":a.variant},null,8,["color","images","media","template","state","selected-variant"])])]),(0,i._)("div",m,[(0,i._)("div",g,[(0,i._)("div",h,[(0,i.Wm)($,{liquid:a.liquid,product:a.product,variant:a.variant,reviews:a.reviews,onUpdateVariant:f.handleVariantUpdate,onUpdateProduct:f.handleProductUpdate,onVariantCheck:f.checkMatchingVariant},null,8,["liquid","product","variant","reviews","onUpdateVariant","onUpdateProduct","onVariantCheck"])])])]),(0,i._)("div",{class:"main-product__description rte is-hidden",innerHTML:a.product.description||a.liquid.description},null,8,v)])]),(0,i._)("div",{class:"main-product__description rte is-hidden",innerHTML:a.product.description||a.liquid.description},null,8,_)],2)}]])},1191:function(e,t,a){a.r(t),a.d(t,{default:function(){return b}});var i=a(1797);const r={class:"product-gallery__main knockout-image"},l=["src","ios-src","alt","poster"],s=(0,i._)("div",{class:"product-gallery__pagination swiper-pagination"},null,-1),n={class:"thumbnail-container"},o=["src","alt"],d=["src","alt"],u={class:"product-gallery__navigation swiper-button-prev swiper-button product-gallery__navigation--prev","aria-label":"Previous slide"},c={class:"product-gallery__navigation swiper-button-next swiper-button product-gallery__navigation--next","aria-label":"Next slide"};var p=a(9122),m=a(3335),g=a(3482),h=a(7484),v=a(9022),_=a(8296),w={name:"ProductGallery",components:{ResponsiveImage:p.default,Swiper:g.tq,SwiperSlide:g.o5,ChevronUp:h.Z,ChevronDown:v.Z},props:{color:{type:[String,Boolean],required:!1,default:!1},images:{type:[Array,null],required:!0,default:()=>[]},media:{type:[Array],required:!0,default:()=>[]},state:{type:String,default:"loading"},template:{type:String,default:""},selectedVariant:{type:[Boolean,Object],default:!1,required:!0}},setup:e=>({modules:[m.s5,m.Rv,m.oM,m.W_,m.tl,m.o3],navigation:{nextEl:".product-gallery__navigation--next",prevEl:".product-gallery__navigation--prev"},pagination:{bulletActiveClass:"product-gallery__bullet--active swiper-pagination-bullet-active",bulletClass:"product-gallery__bullet swiper-pagination-bullet",clickable:!0,currentClass:"product-gallery__bullet--current",el:".product-gallery__pagination",modifierClass:"product-gallery__",type:"bullets",renderBullet:(e,t)=>`\n          <span class="${t} ${t}_${e}"></span>\n        `},swiperSetting:{breakpoints:{1024:{noSwiping:!0,noSwipingSelector:".swiper-slide"}}},thumbsSetting:{breakpoints:{1280:{slidesPerView:5}}},A11y:m.s5,FreeMode:m.Rv,Lazy:m.oM,Thumbs:m.o3}),data:()=>({models:[],swiper:null,swiperThumbs:null}),computed:{...(0,_.rn)({isMobile:e=>e.index.screen.mobile}),hasImages(){var e;return(null===(e=this.images)||void 0===e?void 0:e.length)>0}},watch:{color(){this.swiper&&"function"==typeof this.swiper.slideTo&&this.swiper.slideTo(0)},selectedVariant(){var e;null!==(e=this.$refs)&&void 0!==e&&e.imageThumbnails&&this.updateVariantImage()}},mounted(){this.getMediaModel()},methods:{onSwiper(e){this.swiper=e},onSwiperThumbs(e){this.swiperThumbs=e},handleUpdate(){this.swiper.lazy.load()},handleThumbsUpdate(){this.swiperThumbs.lazy.load(),this.updateVariantImage()},updateVariantImage(){var e;const t=null===(e=this.$refs)||void 0===e?void 0:e.imageThumbnails;if(!t)return;const a=this.swiperThumbs.realIndex;if(!t[a])return;if(t[a].$attrs["data-image-id"]===this.selectedVariant.image)return;const i=t.find((e=>{var t;const a=(null===(t=this.selectedVariant.featured_image)||void 0===t?void 0:t.id)||this.selectedVariant.image;return e.$attrs["data-image-id"]===a}));i&&(this.swiperThumbs.realIndex=i.$attrs["data-slide"],this.swiperThumbs.slideTo(i.$attrs["data-slide"]),this.swiper.slideTo(i.$attrs["data-slide"]))},getMediaModel(){const e=this.media.filter((e=>"model"==e.media_type));this.models=e,this.handleUpdate()},modelSource(e,t){if(!this.models)return;const a=e.find((e=>e.format===t));return(null==a?void 0:a.url)||""},modelIndex(e){if(this.images)return e+this.images.length}}},b=(0,a(4407).Z)(w,[["render",function(e,t,a,p,m,g){const h=(0,i.up)("responsive-image"),v=(0,i.up)("swiper-slide"),_=(0,i.up)("swiper"),w=(0,i.up)("chevron-up"),b=(0,i.up)("chevron-down");return(0,i.wg)(),(0,i.iD)("div",{class:(0,i.C_)(["product-gallery knockout-image",{[e.$class("loading")]:"loading"===a.state}])},[(0,i._)("div",r,[(0,i.wy)((0,i.Wm)(_,{class:"product-gallery__featured-carousel swiper-container knockout-image",breakpoints:p.swiperSetting.breakpoint,loop:!0,"looped-slides":-1,"space-between":10,modules:p.modules,pagination:p.pagination,thumbs:{swiper:m.swiperThumbs},onSwiper:g.onSwiper,onUpdate:g.handleUpdate},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(a.images,((e,t)=>((0,i.wg)(),(0,i.j4)(v,{id:`product-gallery-main-slide-${t}`,key:e.src,class:"product-gallery__featured-image"},{default:(0,i.w5)((()=>[((0,i.wg)(),(0,i.j4)(h,{key:e.src,image:e,padding:!1,"min-max":"900-1280","swiper-lazyload":!0,class:"responsive-image__wrapper product-gallery__featured-image knockout-image"},null,8,["image"]))])),_:2},1032,["id"])))),128)),m.models.length>0?((0,i.wg)(!0),(0,i.iD)(i.HY,{key:0},(0,i.Ko)(m.models,((e,t)=>((0,i.wg)(),(0,i.j4)(v,{id:`product-gallery-main-slide-${g.modelIndex(t)}`,key:e.preview_image.src,"data-swiper-slide-index":g.modelIndex(t),class:"product-gallery__featured-image"},{default:(0,i.w5)((()=>[((0,i.wg)(),(0,i.iD)("model-viewer",{key:e.preview_image.src,src:g.modelSource(e.sources,"glb"),"ios-src":g.modelSource(e.sources,"usdz"),alt:e.alt,poster:e.preview_image.src,"swiper-lazyload":!0,ar:"true","camera-controls":"true","data-shopify-feature":"1.12"},null,8,l))])),_:2},1032,["id","data-swiper-slide-index"])))),128)):(0,i.kq)("",!0),s])),_:1},8,["breakpoints","modules","pagination","thumbs","onSwiper","onUpdate"]),[[i.F8,g.hasImages]]),g.hasImages?(0,i.kq)("",!0):(0,i.WI)(e.$slots,"galleryplaceholder",{key:0})]),(0,i._)("div",n,["bundle"!==a.template?(0,i.wy)(((0,i.wg)(),(0,i.j4)(_,{key:0,class:"thumbnail-carousel swiper-container swiper-thumbs",modules:p.modules,"watch-slides-progress":"","free-mode":!0,loop:!1,"active-class":"is-active","auto-height":!0,"space-between":16,direction:"vertical",navigation:p.navigation,"slides-per-view":3,"slide-to-clicked-slide":!0,breakpoints:p.thumbsSetting.breakpoints,onSwiper:g.onSwiperThumbs,onUpdate:g.handleThumbsUpdate},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(a.images,((e,t)=>((0,i.wg)(),(0,i.j4)(v,{id:`product-gallery-thumb-slide-${t}`,key:e.src,ref_for:!0,ref:"imageThumbnails",tabindex:"0","data-image-id":e.id,"data-slide":t,class:"product-gallery__thumbnail"},{default:(0,i.w5)((()=>[(0,i._)("img",{src:e.src,alt:e.alt,class:"product-gallery__thumbnail-image knockout-image"},null,8,o)])),_:2},1032,["id","data-image-id","data-slide"])))),128)),m.models.length>0?((0,i.wg)(!0),(0,i.iD)(i.HY,{key:0},(0,i.Ko)(m.models,((e,t)=>((0,i.wg)(),(0,i.j4)(v,{id:`product-gallery-thumb-slide-${g.modelIndex(t)}`,key:e.preview_image.src,ref_for:!0,ref:"imageThumbnails",tabindex:"0","data-image-id":e.id,"data-slide":g.modelIndex(t),class:"product-gallery__thumbnail"},{default:(0,i.w5)((()=>[(0,i._)("img",{src:e.preview_image.src,alt:e.alt,class:"product-gallery__thumbnail-image knockout-image"},null,8,d)])),_:2},1032,["id","data-image-id","data-slide"])))),128)):(0,i.kq)("",!0)])),_:1},8,["modules","navigation","breakpoints","onSwiper","onUpdate"])),[[i.F8,!e.isMobile&&g.hasImages]]):(0,i.kq)("",!0),(0,i.wy)((0,i._)("div",u,[(0,i.Wm)(w)],512),[[i.F8,!e.isMobile]]),(0,i.wy)((0,i._)("div",c,[(0,i.Wm)(b)],512),[[i.F8,!e.isMobile]])])],2)}]])}}]);
//# sourceMappingURL=component.main-product.js.map?v=1733162424563